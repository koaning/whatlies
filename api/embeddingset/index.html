



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="A python package to discover "what lies" in word embeddings.">
      
      
        <link rel="canonical" href="https://koaning.github.io/whatlies/api/embeddingset/">
      
      
        <meta name="author" content="Vincent D. Warmerdam @ Rasa Research">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/fig.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>EmbeddingSet - whatlies</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../style.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#whatliesembeddingsetembeddingset" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://koaning.github.io/whatlies/" title="whatlies" aria-label="whatlies" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../../arrow.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              whatlies
            </span>
            <span class="md-header-nav__topic">
              
                EmbeddingSet
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/koaning/whatlies/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../tutorial/quickstart/" class="md-tabs__link">
          Getting Started
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../embedding/" class="md-tabs__link md-tabs__link--active">
          API
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../examples/lipstick-pig/" class="md-tabs__link">
          Examples
        </a>
      
    </li>
  

      
        
      
        
      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://koaning.github.io/whatlies/" title="whatlies" class="md-nav__button md-logo">
      
        <img alt="logo" src="../../arrow.png" width="48" height="48">
      
    </a>
    whatlies
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/koaning/whatlies/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorial/quickstart/" title="Quickstart" class="md-nav__link">
      Quickstart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorial/embeddings/" title="What Are Embeddings" class="md-nav__link">
      What Are Embeddings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorial/embeddingsets/" title="Interactive Visualisation" class="md-nav__link">
      Interactive Visualisation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorial/scikit-learn/" title="Scikit-Learn Compatibility" class="md-nav__link">
      Scikit-Learn Compatibility
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../embedding/" title="Embedding" class="md-nav__link">
      Embedding
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        EmbeddingSet
      </label>
    
    <a href="./" title="EmbeddingSet" class="md-nav__link md-nav__link--active">
      EmbeddingSet
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.ndim" class="md-nav__link">
    ndim
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595add9595" class="md-nav__link">
    __add__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595contains9595" class="md-nav__link">
    __contains__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595getitem9595" class="md-nav__link">
    __getitem__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595iter9595" class="md-nav__link">
    __iter__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595or9595" class="md-nav__link">
    __or__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595rshift9595" class="md-nav__link">
    __rshift__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595sub9595" class="md-nav__link">
    __sub__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.add_property" class="md-nav__link">
    add_property()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.assign" class="md-nav__link">
    assign()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.average" class="md-nav__link">
    average()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.compare_against" class="md-nav__link">
    compare_against()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.embset_similar" class="md-nav__link">
    embset_similar()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.filter" class="md-nav__link">
    filter()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.from_names_X" class="md-nav__link">
    from_names_X()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.merge" class="md-nav__link">
    merge()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.movement_df" class="md-nav__link">
    movement_df()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.pipe" class="md-nav__link">
    pipe()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot" class="md-nav__link">
    plot()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_3d" class="md-nav__link">
    plot_3d()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_brush" class="md-nav__link">
    plot_brush()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_distance" class="md-nav__link">
    plot_distance()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_interactive" class="md-nav__link">
    plot_interactive()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_interactive_matrix" class="md-nav__link">
    plot_interactive_matrix()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_movement" class="md-nav__link">
    plot_movement()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_pixels" class="md-nav__link">
    plot_pixels()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_similarity" class="md-nav__link">
    plot_similarity()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.score_similar" class="md-nav__link">
    score_similar()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.to_dataframe" class="md-nav__link">
    to_dataframe()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.to_matrix" class="md-nav__link">
    to_matrix()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.to_names_X" class="md-nav__link">
    to_names_X()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.to_X" class="md-nav__link">
    to_X()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.to_X_y" class="md-nav__link">
    to_X_y()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.transform" class="md-nav__link">
    transform()
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../helpers/" title="Helpers" class="md-nav__link">
      Helpers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Transformers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        Transformers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../transformers/pca/" title="Pca" class="md-nav__link">
      Pca
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../transformers/umap/" title="Umap" class="md-nav__link">
      Umap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../transformers/tsne/" title="Tsne" class="md-nav__link">
      Tsne
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../transformers/noise/" title="Noise" class="md-nav__link">
      Noise
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../transformers/addrandom/" title="Add Random" class="md-nav__link">
      Add Random
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      Language
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        Language
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../language/spacy_lang/" title="spaCy" class="md-nav__link">
      spaCy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language/s2v_lang/" title="Sense2Vec" class="md-nav__link">
      Sense2Vec
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language/floret_lang/" title="floret" class="md-nav__link">
      floret
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language/fasttext_lang/" title="fasttext" class="md-nav__link">
      fasttext
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language/countvector_lang/" title="CountVector" class="md-nav__link">
      CountVector
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language/tfidf_lang/" title="TFIDFVector" class="md-nav__link">
      TFIDFVector
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language/bpemb_lang/" title="BytePair" class="md-nav__link">
      BytePair
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language/convert_lang/" title="ConveRT" class="md-nav__link">
      ConveRT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language/gensim_lang/" title="Gensim" class="md-nav__link">
      Gensim
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language/transformers/" title="Huggingface" class="md-nav__link">
      Huggingface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language/labse/" title="LaBSE" class="md-nav__link">
      LaBSE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language/tfhub/" title="TFHub" class="md-nav__link">
      TFHub
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language/universal_sentence/" title="USE" class="md-nav__link">
      USE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../language/sentence_tfm/" title="Sent TFM" class="md-nav__link">
      Sent TFM
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Examples
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/lipstick-pig/" title="Debiasing Projections" class="md-nav__link">
      Debiasing Projections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/arabic/" title="Arabic Benchmarks" class="md-nav__link">
      Arabic Benchmarks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../roadmap/" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../releases/" title="Releases" class="md-nav__link">
      Releases
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.ndim" class="md-nav__link">
    ndim
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595add9595" class="md-nav__link">
    __add__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595contains9595" class="md-nav__link">
    __contains__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595getitem9595" class="md-nav__link">
    __getitem__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595iter9595" class="md-nav__link">
    __iter__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595or9595" class="md-nav__link">
    __or__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595rshift9595" class="md-nav__link">
    __rshift__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.9595sub9595" class="md-nav__link">
    __sub__()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.add_property" class="md-nav__link">
    add_property()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.assign" class="md-nav__link">
    assign()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.average" class="md-nav__link">
    average()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.compare_against" class="md-nav__link">
    compare_against()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.embset_similar" class="md-nav__link">
    embset_similar()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.filter" class="md-nav__link">
    filter()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.from_names_X" class="md-nav__link">
    from_names_X()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.merge" class="md-nav__link">
    merge()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.movement_df" class="md-nav__link">
    movement_df()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.pipe" class="md-nav__link">
    pipe()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot" class="md-nav__link">
    plot()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_3d" class="md-nav__link">
    plot_3d()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_brush" class="md-nav__link">
    plot_brush()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_distance" class="md-nav__link">
    plot_distance()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_interactive" class="md-nav__link">
    plot_interactive()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_interactive_matrix" class="md-nav__link">
    plot_interactive_matrix()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_movement" class="md-nav__link">
    plot_movement()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_pixels" class="md-nav__link">
    plot_pixels()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.plot_similarity" class="md-nav__link">
    plot_similarity()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.score_similar" class="md-nav__link">
    score_similar()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.to_dataframe" class="md-nav__link">
    to_dataframe()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.to_matrix" class="md-nav__link">
    to_matrix()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.to_names_X" class="md-nav__link">
    to_names_X()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.to_X" class="md-nav__link">
    to_X()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.to_X_y" class="md-nav__link">
    to_X_y()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whatlies.embeddingset.EmbeddingSet.transform" class="md-nav__link">
    transform()
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/koaning/whatlies/edit/master/docs/api/embeddingset.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="whatliesembeddingsetembeddingset"><code>whatlies.embeddingset.EmbeddingSet</code><a class="headerlink" href="#whatliesembeddingsetembeddingset" title="Permanent link">&para;</a></h1>
<p>This object represents a set of <code>Embedding</code>s. You can use the same operations
as an <code>Embedding</code> but here we apply it to the entire set instead of a single
<code>Embedding</code>.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><strong>embeddings</strong>: list of <code>Embedding</code>, or a single dictionary containing name:<code>Embedding</code> pairs</li>
<li><strong>name</strong>: custom name of embeddingset</li>
</ul>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embedding</span> <span class="kn">import</span> <span class="n">Embedding</span>
<span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="n">foo</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="n">bar</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.ndim"><code class="highlight"><span class="n">ndim</span><span class="p">:</span></code> <em>(property, readonly)</em><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.ndim" title="Permanent link">&para;</a></h2>
<p>Return dimension of embedding vectors in embeddingset.</p>
<h2 id="whatlies.embeddingset.EmbeddingSet.__add__"><code class="highlight"><span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.__add__" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds an embedding to each element in the embeddingset.</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embedding import Embedding</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span>
<span class="sd">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar)</span>

<span class="sd">        (emb).plot(kind=&quot;arrow&quot;)</span>
<span class="sd">        (emb + buz).plot(kind=&quot;arrow&quot;)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_embeddings</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">emb</span> <span class="o">+</span> <span class="n">other</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">emb</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">return</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">new_embeddings</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> + </span><span class="si">{</span><span class="n">other</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Adds an embedding to each element in the embeddingset.</p>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embedding</span> <span class="kn">import</span> <span class="n">Embedding</span>
<span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="n">buz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;buz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>

<span class="p">(</span><span class="n">emb</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;arrow&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="n">emb</span> <span class="o">+</span> <span class="n">buz</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;arrow&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.__contains__"><code class="highlight"><span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.__contains__" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if an item is in the embeddingset.</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embedding import Embedding</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span>
<span class="sd">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar)</span>

<span class="sd">        &quot;foo&quot; in emb # True</span>
<span class="sd">        &quot;dinosaur&quot; in emb # False</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Checks if an item is in the embeddingset.</p>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embedding</span> <span class="kn">import</span> <span class="n">Embedding</span>
<span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="n">buz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;buz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>

<span class="s2">&quot;foo&quot;</span> <span class="ow">in</span> <span class="n">emb</span> <span class="c1"># True</span>
<span class="s2">&quot;dinosaur&quot;</span> <span class="ow">in</span> <span class="n">emb</span> <span class="c1"># False</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.__getitem__"><code class="highlight"><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">thing</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.__getitem__" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">thing</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retreive a single embedding from the embeddingset.</span>

<span class="sd">        Usage:</span>
<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3, 0.10])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2, 0.11])</span>
<span class="sd">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9, 0.12])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar, buz)</span>

<span class="sd">        emb[&quot;buz&quot;]</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">thing</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="p">[</span><span class="n">thing</span><span class="p">]</span>
        <span class="n">new_embeddings</span> <span class="o">=</span> <span class="p">{</span><span class="n">t</span><span class="p">:</span> <span class="bp">self</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">thing</span><span class="p">}</span>
        <span class="n">names</span> <span class="o">=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">thing</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">new_embeddings</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.subset(</span><span class="si">{</span><span class="n">names</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Retreive a single embedding from the embeddingset.</p>
<p>Usage:
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.11</span><span class="p">])</span>
<span class="n">buz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;buz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">buz</span><span class="p">)</span>

<span class="n">emb</span><span class="p">[</span><span class="s2">&quot;buz&quot;</span><span class="p">]</span>
</code></pre></div></p>
<h2 id="whatlies.embeddingset.EmbeddingSet.__iter__"><code class="highlight"><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.__iter__" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iterate over all the embeddings in the embeddingset.</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embedding import Embedding</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span>
<span class="sd">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar)</span>

<span class="sd">        [e for e in emb]</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()</span><span class="o">.</span><span class="fm">__iter__</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Iterate over all the embeddings in the embeddingset.</p>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embedding</span> <span class="kn">import</span> <span class="n">Embedding</span>
<span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="n">buz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;buz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>

<span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">emb</span><span class="p">]</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.__or__"><code class="highlight"><span class="fm">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.__or__" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="fm">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes every element in the embeddingset othogonal to the passed embedding.</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embedding import Embedding</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span>
<span class="sd">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar)</span>

<span class="sd">        (emb).plot(kind=&quot;arrow&quot;)</span>
<span class="sd">        (emb | buz).plot(kind=&quot;arrow&quot;)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_embeddings</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">emb</span> <span class="o">|</span> <span class="n">other</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">emb</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">return</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">new_embeddings</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> | </span><span class="si">{</span><span class="n">other</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Makes every element in the embeddingset othogonal to the passed embedding.</p>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embedding</span> <span class="kn">import</span> <span class="n">Embedding</span>
<span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="n">buz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;buz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>

<span class="p">(</span><span class="n">emb</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;arrow&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="n">emb</span> <span class="o">|</span> <span class="n">buz</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;arrow&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.__rshift__"><code class="highlight"><span class="fm">__rshift__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.__rshift__" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="fm">__rshift__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Maps every embedding in the embedding set unto the passed embedding.</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embedding import Embedding</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span>
<span class="sd">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar)</span>

<span class="sd">        (emb).plot(kind=&quot;arrow&quot;)</span>
<span class="sd">        (emb &gt;&gt; buz).plot(kind=&quot;arrow&quot;)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_embeddings</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">emb</span> <span class="o">&gt;&gt;</span> <span class="n">other</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">emb</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">return</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">new_embeddings</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> &gt;&gt; </span><span class="si">{</span><span class="n">other</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Maps every embedding in the embedding set unto the passed embedding.</p>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embedding</span> <span class="kn">import</span> <span class="n">Embedding</span>
<span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="n">buz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;buz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>

<span class="p">(</span><span class="n">emb</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;arrow&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="n">emb</span> <span class="o">&gt;&gt;</span> <span class="n">buz</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;arrow&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.__sub__"><code class="highlight"><span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.__sub__" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Subtracts an embedding from each element in the embeddingset.</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embedding import Embedding</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span>
<span class="sd">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar)</span>

<span class="sd">        (emb).plot(kind=&quot;arrow&quot;)</span>
<span class="sd">        (emb - buz).plot(kind=&quot;arrow&quot;)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_embeddings</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">emb</span> <span class="o">-</span> <span class="n">other</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">emb</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">return</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">new_embeddings</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">other</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Subtracts an embedding from each element in the embeddingset.</p>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embedding</span> <span class="kn">import</span> <span class="n">Embedding</span>
<span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="n">buz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;buz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>

<span class="p">(</span><span class="n">emb</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;arrow&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="n">emb</span> <span class="o">-</span> <span class="n">buz</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;arrow&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.add_property"><code class="highlight"><span class="n">add_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.add_property" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">add_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a property to every embedding in the set. Very useful for plotting because</span>
<span class="sd">        a property can be used to assign colors.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            name: name of the property to add</span>
<span class="sd">            func: function that receives an embedding and needs to output the property value</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3, 0.10])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2, 0.11])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar)</span>
<span class="sd">        emb_with_property = emb.add_property(&#39;example&#39;, lambda d: &#39;group-one&#39;)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">EmbeddingSet</span><span class="p">(</span>
            <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">e</span><span class="o">.</span><span class="n">add_property</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Adds a property to every embedding in the set. Very useful for plotting because
a property can be used to assign colors.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td></td>
<td>name of the property to add</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>func</code></td>
<td></td>
<td>function that receives an embedding and needs to output the property value</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.11</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>
<span class="n">emb_with_property</span> <span class="o">=</span> <span class="n">emb</span><span class="o">.</span><span class="n">add_property</span><span class="p">(</span><span class="s1">&#39;example&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="s1">&#39;group-one&#39;</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.assign"><code class="highlight"><span class="n">assign</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.assign" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">assign</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds properties to every embedding in the set based on the keyword arguments.</span>

<span class="sd">        This is very useful for plotting because a property can be used to assign colors. This method is very</span>
<span class="sd">        similar to `.add_property` but it might be more convenient when you want to assign multiple properties</span>
<span class="sd">        in one single statement.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            kwargs: (name, func)-pairs that describe the name of the property as well as a value to assign.</span>
<span class="sd">                The value can be a single value, iterable or a function. The function expects an `Embedding` object as input.</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3, 0.10])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2, 0.11])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar)</span>
<span class="sd">        emb_with_property1 = emb.assign(dim0=lambda d: d.vector[0],</span>
<span class="sd">                                        dim1=lambda d: d.vector[1],</span>
<span class="sd">                                        dim2=lambda d: d.vector[2])</span>

<span class="sd">        emb_with_property2 = emb.assign(group=[&quot;foo_grp&quot;, &quot;bar_grp&quot;])</span>

<span class="sd">        emb_with_property3 = emb.assign(constant=1)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_set</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">new_emb</span> <span class="o">=</span> <span class="n">e</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
                    <span class="n">new_emb</span> <span class="o">=</span> <span class="n">new_emb</span><span class="o">.</span><span class="n">add_property</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
                <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="s2">&quot;__iter__&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="c1"># We want to support lists, tuples, numpy arrays but not strings</span>
                    <span class="c1"># those need to be handle as if they&#39;re literals.</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;If you&#39;re passing an iterable to `.assign` then it must have the same length as the `EmbeddingSet`.</span><span class="se">\n</span><span class="s2">Got: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">val</span><span class="p">)</span><span class="si">}</span><span class="s2">. Expected: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
                        <span class="p">)</span>
                    <span class="n">new_emb</span> <span class="o">=</span> <span class="n">new_emb</span><span class="o">.</span><span class="n">add_property</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">val</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">new_emb</span> <span class="o">=</span> <span class="n">new_emb</span><span class="o">.</span><span class="n">add_property</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">val</span><span class="p">)</span>
            <span class="n">new_set</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_emb</span>
        <span class="k">return</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">new_set</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Adds properties to every embedding in the set based on the keyword arguments.</p>
<p>This is very useful for plotting because a property can be used to assign colors. This method is very
similar to <code>.add_property</code> but it might be more convenient when you want to assign multiple properties
in one single statement.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>**kwargs</code></td>
<td></td>
<td>(name, func)-pairs that describe the name of the property as well as a value to assign. The value can be a single value, iterable or a function. The function expects an <code>Embedding</code> object as input.</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.11</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>
<span class="n">emb_with_property1</span> <span class="o">=</span> <span class="n">emb</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">dim0</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">vector</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                <span class="n">dim1</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">vector</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                <span class="n">dim2</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">vector</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

<span class="n">emb_with_property2</span> <span class="o">=</span> <span class="n">emb</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">group</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;foo_grp&quot;</span><span class="p">,</span> <span class="s2">&quot;bar_grp&quot;</span><span class="p">])</span>

<span class="n">emb_with_property3</span> <span class="o">=</span> <span class="n">emb</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.average"><code class="highlight"><span class="n">average</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.average" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">average</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes the average over all the embedding vectors in the embeddingset. Turns it into</span>
<span class="sd">        a new `Embedding`.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            name: manually specify the name of the average embedding</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [1.0, 0.0])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.0, 1.0])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar)</span>

<span class="sd">        emb.average().vector                   # [0.5, 0,5]</span>
<span class="sd">        emb.average(name=&quot;the-average&quot;).vector # [0.5, 0.5]</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.average()&quot;</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span> <span class="k">else</span> <span class="n">name</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">Embedding</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Takes the average over all the embedding vectors in the embeddingset. Turns it into
a new <code>Embedding</code>.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td></td>
<td>manually specify the name of the average embedding</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>

<span class="n">emb</span><span class="o">.</span><span class="n">average</span><span class="p">()</span><span class="o">.</span><span class="n">vector</span>                   <span class="c1"># [0.5, 0,5]</span>
<span class="n">emb</span><span class="o">.</span><span class="n">average</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;the-average&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">vector</span> <span class="c1"># [0.5, 0.5]</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.compare_against"><code class="highlight"><span class="n">compare_against</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.compare_against" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">compare_against</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">],</span> <span class="n">mapping</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compare (or map) the embeddigns in the embeddingset to a given embedding, optionally using</span>
<span class="sd">        a custom mapping function.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            other: an `Embedding` instance, or name of an existing embedding; it is used for</span>
<span class="sd">                comparison with each embedding in the embeddingset.</span>
<span class="sd">            mapping: an optional callable used for for comparison that takes two 1D vector arrays as</span>
<span class="sd">                input; if not given, the normalized scalar projection (i.e. `&gt;` operator) is used.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">other</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">other</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">mapping</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">v</span> <span class="o">&gt;</span> <span class="n">other</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
        <span class="k">elif</span> <span class="n">callable</span><span class="p">(</span><span class="n">mapping</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">mapping</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">vector</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">vector</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unrecognized mapping value/type, got: </span><span class="si">{</span><span class="n">mapping</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Compare (or map) the embeddigns in the embeddingset to a given embedding, optionally using
a custom mapping function.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>other</code></td>
<td><code>Union[str, whatlies.embedding.Embedding]</code></td>
<td>an <code>Embedding</code> instance, or name of an existing embedding; it is used for comparison with each embedding in the embeddingset.</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>mapping</code></td>
<td><code>Optional[Callable]</code></td>
<td>an optional callable used for for comparison that takes two 1D vector arrays as input; if not given, the normalized scalar projection (i.e. <code>&gt;</code> operator) is used.</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<h2 id="whatlies.embeddingset.EmbeddingSet.embset_similar"><code class="highlight"><span class="n">embset_similar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">emb</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;cosine&#39;</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.embset_similar" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">embset_similar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">emb</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">],</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;cosine&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retreive an [EmbeddingSet][whatlies.embeddingset.EmbeddingSet] that are the most simmilar to the passed query.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            emb: query to use</span>
<span class="sd">            n: the number of items you&#39;d like to see returned</span>
<span class="sd">            metric: metric to use to calculate distance, must be scipy or sklearn compatible</span>

<span class="sd">        Returns:</span>
<span class="sd">            An [EmbeddingSet][whatlies.embeddingset.EmbeddingSet] containing the similar embeddings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">embs</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">score_similar</span><span class="p">(</span><span class="n">emb</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">metric</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">EmbeddingSet</span><span class="p">({</span><span class="n">w</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">w</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">embs</span><span class="p">})</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Retreive an <a href="/whatlies/api/embeddingset/#whatlies.embeddingset.EmbeddingSet">EmbeddingSet</a> that are the most simmilar to the passed query.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>emb</code></td>
<td><code>Union[str, whatlies.embedding.Embedding]</code></td>
<td>query to use</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>n</code></td>
<td><code>int</code></td>
<td>the number of items you'd like to see returned</td>
<td><code>10</code></td>
</tr>
<tr>
<td><code>metric</code></td>
<td></td>
<td>metric to use to calculate distance, must be scipy or sklearn compatible</td>
<td><code>'cosine'</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>``</td>
<td>An <a href="/whatlies/api/embeddingset/#whatlies.embeddingset.EmbeddingSet">EmbeddingSet</a> containing the similar embeddings.</td>
</tr>
</tbody>
</table>
<h2 id="whatlies.embeddingset.EmbeddingSet.filter"><code class="highlight"><span class="nb">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.filter" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Filters the collection of embeddings based on a predicate function.</span>

<span class="sd">        Arguments:</span>
<span class="sd">             func: callable that accepts a single embedding and outputs a boolean</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3, 0.10])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2, 0.11])</span>
<span class="sd">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9, 0.12])</span>
<span class="sd">        xyz = Embedding(&quot;xyz&quot;, [0.1, 0.9, 0.12])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar, buz, xyz)</span>
<span class="sd">        emb.filter(lambda e: &quot;foo&quot; not in e.name)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">EmbeddingSet</span><span class="p">({</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">func</span><span class="p">(</span><span class="n">v</span><span class="p">)})</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Filters the collection of embeddings based on a predicate function.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>func</code></td>
<td></td>
<td>callable that accepts a single embedding and outputs a boolean</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.11</span><span class="p">])</span>
<span class="n">buz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;buz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">])</span>
<span class="n">xyz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;xyz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">buz</span><span class="p">,</span> <span class="n">xyz</span><span class="p">)</span>
<span class="n">emb</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.from_names_X"><code class="highlight"><span class="n">from_names_X</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">X</span><span class="p">)</span></code> <em>(classmethod)</em><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.from_names_X" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_names_X</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">names</span><span class="p">,</span> <span class="n">X</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs an `EmbeddingSet` instance from the given embedding names and vectors.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            names: an iterable containing the names of embeddings</span>
<span class="sd">            X: an iterable of 1D vectors, or a 2D numpy array; it should have the same length as `names`</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        names = [&quot;foo&quot;, &quot;bar&quot;, &quot;buz&quot;]</span>
<span class="sd">        vecs = [</span>
<span class="sd">            [0.1, 0.3],</span>
<span class="sd">            [0.7, 0.2],</span>
<span class="sd">            [0.1, 0.9],</span>
<span class="sd">        ]</span>

<span class="sd">        emb = EmbeddingSet.from_names_X(names, vecs)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The number of given names (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">)</span><span class="si">}</span><span class="s2">) and vectors (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="si">}</span><span class="s2">) should be the same.&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">({</span><span class="n">n</span><span class="p">:</span> <span class="n">Embedding</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">X</span><span class="p">)})</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Constructs an <code>EmbeddingSet</code> instance from the given embedding names and vectors.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>names</code></td>
<td></td>
<td>an iterable containing the names of embeddings</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>X</code></td>
<td></td>
<td>an iterable of 1D vectors, or a 2D numpy array; it should have the same length as <code>names</code></td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;buz&quot;</span><span class="p">]</span>
<span class="n">vecs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span>
    <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>
<span class="p">]</span>

<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="o">.</span><span class="n">from_names_X</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">vecs</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.merge"><code class="highlight"><span class="n">merge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.merge" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Concatenates two embeddingssets together</span>

<span class="sd">        Arguments:</span>
<span class="sd">            other: another embeddingset</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3, 0.10])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2, 0.11])</span>
<span class="sd">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9, 0.12])</span>
<span class="sd">        xyz = Embedding(&quot;xyz&quot;, [0.1, 0.9, 0.12])</span>
<span class="sd">        emb1 = EmbeddingSet(foo, bar)</span>
<span class="sd">        emb2 = EmbeddingSet(xyz, buz)</span>

<span class="sd">        both = emb1.merge(emb2)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">EmbeddingSet</span><span class="p">({</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="p">,</span> <span class="o">**</span><span class="n">other</span><span class="o">.</span><span class="n">embeddings</span><span class="p">})</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Concatenates two embeddingssets together</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>other</code></td>
<td></td>
<td>another embeddingset</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.11</span><span class="p">])</span>
<span class="n">buz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;buz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">])</span>
<span class="n">xyz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;xyz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">])</span>
<span class="n">emb1</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span>
<span class="n">emb2</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="n">buz</span><span class="p">)</span>

<span class="n">both</span> <span class="o">=</span> <span class="n">emb1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">emb2</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.movement_df"><code class="highlight"><span class="n">movement_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;euclidean&#39;</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.movement_df" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">movement_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;euclidean&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a dataframe that shows the movement from one embeddingset to another one.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            other: the other embeddingset to compare against, will only keep the overlap</span>
<span class="sd">            metric: metric to use to calculate movement, must be scipy or sklearn compatible</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.language import SpacyLanguage</span>

<span class="sd">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span>

<span class="sd">        names = [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;, &#39;yellow&#39;, &#39;cat&#39;, &#39;dog&#39;, &#39;mouse&#39;, &#39;rat&#39;, &#39;bike&#39;, &#39;car&#39;]</span>
<span class="sd">        emb = lang[names]</span>
<span class="sd">        emb_ort = lang[names] | lang[&#39;cat&#39;]</span>
<span class="sd">        emb.movement_df(emb_ort)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">overlap</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
            <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="p">)</span>
        <span class="n">mat1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">w</span><span class="o">.</span><span class="n">vector</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">[</span><span class="n">overlap</span><span class="p">]])</span>
        <span class="n">mat2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">w</span><span class="o">.</span><span class="n">vector</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">other</span><span class="p">[</span><span class="n">overlap</span><span class="p">]])</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
                <span class="p">{</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">overlap</span><span class="p">,</span>
                    <span class="s2">&quot;movement&quot;</span><span class="p">:</span> <span class="n">paired_distances</span><span class="p">(</span><span class="n">mat1</span><span class="p">,</span> <span class="n">mat2</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="n">metric</span><span class="p">),</span>
                <span class="p">}</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">&quot;movement&quot;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Creates a dataframe that shows the movement from one embeddingset to another one.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>other</code></td>
<td></td>
<td>the other embeddingset to compare against, will only keep the overlap</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>metric</code></td>
<td></td>
<td>metric to use to calculate movement, must be scipy or sklearn compatible</td>
<td><code>'euclidean'</code></td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.language</span> <span class="kn">import</span> <span class="n">SpacyLanguage</span>

<span class="n">lang</span> <span class="o">=</span> <span class="n">SpacyLanguage</span><span class="p">(</span><span class="s2">&quot;en_core_web_sm&quot;</span><span class="p">)</span>

<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;mouse&#39;</span><span class="p">,</span> <span class="s1">&#39;rat&#39;</span><span class="p">,</span> <span class="s1">&#39;bike&#39;</span><span class="p">,</span> <span class="s1">&#39;car&#39;</span><span class="p">]</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">lang</span><span class="p">[</span><span class="n">names</span><span class="p">]</span>
<span class="n">emb_ort</span> <span class="o">=</span> <span class="n">lang</span><span class="p">[</span><span class="n">names</span><span class="p">]</span> <span class="o">|</span> <span class="n">lang</span><span class="p">[</span><span class="s1">&#39;cat&#39;</span><span class="p">]</span>
<span class="n">emb</span><span class="o">.</span><span class="n">movement_df</span><span class="p">(</span><span class="n">emb_ort</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.pipe"><code class="highlight"><span class="n">pipe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.pipe" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">pipe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Applies a function to the embedding set. Useful for method chaining and</span>
<span class="sd">        chunks of code that repeat.</span>

<span class="sd">        Arguments:</span>
<span class="sd">             func: callable that accepts an `EmbeddingSet` set as its first argument</span>
<span class="sd">             args: arguments to also pass to the function</span>
<span class="sd">             kwargs: keyword arguments to also pass to the function</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.language import SpacyLanguage, BytePairLanguage</span>

<span class="sd">        lang_sp = SpacyLanguage(&quot;en_core_web_sm&quot;)</span>
<span class="sd">        lang_bp = BytePairLanguage(&quot;en&quot;, dim=25, vs=1000)</span>

<span class="sd">        text = [&quot;cat&quot;, &quot;dog&quot;, &quot;rat&quot;, &quot;blue&quot;, &quot;red&quot;, &quot;yellow&quot;]</span>

<span class="sd">        def make_plot(embset):</span>
<span class="sd">            return (embset</span>
<span class="sd">                    .plot_interactive(&quot;dog&quot;, &quot;blue&quot;)</span>
<span class="sd">                    .properties(height=200, width=200))</span>

<span class="sd">        p1 = lang_sp[text].pipe(make_plot)</span>
<span class="sd">        p2 = lang_bp[text].pipe(make_plot)</span>
<span class="sd">        p1 | p2</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Applies a function to the embedding set. Useful for method chaining and
chunks of code that repeat.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>func</code></td>
<td></td>
<td>callable that accepts an <code>EmbeddingSet</code> set as its first argument</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>*args</code></td>
<td></td>
<td>arguments to also pass to the function</td>
<td><code>()</code></td>
</tr>
<tr>
<td><code>**kwargs</code></td>
<td></td>
<td>keyword arguments to also pass to the function</td>
<td><code>{}</code></td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.language</span> <span class="kn">import</span> <span class="n">SpacyLanguage</span><span class="p">,</span> <span class="n">BytePairLanguage</span>

<span class="n">lang_sp</span> <span class="o">=</span> <span class="n">SpacyLanguage</span><span class="p">(</span><span class="s2">&quot;en_core_web_sm&quot;</span><span class="p">)</span>
<span class="n">lang_bp</span> <span class="o">=</span> <span class="n">BytePairLanguage</span><span class="p">(</span><span class="s2">&quot;en&quot;</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">vs</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>

<span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;rat&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">make_plot</span><span class="p">(</span><span class="n">embset</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">embset</span>
            <span class="o">.</span><span class="n">plot_interactive</span><span class="p">(</span><span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">))</span>

<span class="n">p1</span> <span class="o">=</span> <span class="n">lang_sp</span><span class="p">[</span><span class="n">text</span><span class="p">]</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">make_plot</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">lang_bp</span><span class="p">[</span><span class="n">text</span><span class="p">]</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">make_plot</span><span class="p">)</span>
<span class="n">p1</span> <span class="o">|</span> <span class="n">p2</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.plot"><code class="highlight"><span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;arrow&#39;</span><span class="p">,</span> <span class="n">x_axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y_axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis_metric</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">show_ops</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis_option</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.plot" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">kind</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;arrow&quot;</span><span class="p">,</span>
        <span class="n">x_axis</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">y_axis</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">axis_metric</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">x_label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">y_label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">title</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">show_ops</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">annot</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">axis_option</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes (perhaps inferior) matplotlib plot. Consider using `plot_interactive` instead.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            kind: what kind of plot to make, can be `scatter`, `arrow` or `text`</span>
<span class="sd">            x_axis: the x-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding</span>
<span class="sd">                dimension of embedding is used.</span>
<span class="sd">            y_axis: the y-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding</span>
<span class="sd">                dimension of embedding is used.</span>
<span class="sd">            axis_metric: the metric used to project each embedding on the axes; only used when the corresponding</span>
<span class="sd">                axis (i.e. `x_axis` or `y_axis`) is a string or an `Embedding` instance. It could be a string</span>
<span class="sd">                (`&#39;cosine_similarity&#39;`, `&#39;cosine_distance&#39;` or `&#39;euclidean&#39;`), or a callable that takes two vectors as input</span>
<span class="sd">                and returns a scalar value as output. To set different metrics for x- and y-axis, a list or a tuple of</span>
<span class="sd">                two elements could be given. By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.</span>
<span class="sd">            x_label: an optional label used for x-axis; if not given, it is set based on value of `x_axis`.</span>
<span class="sd">            y_label: an optional label used for y-axis; if not given, it is set based on value of `y_axis`.</span>
<span class="sd">            title: an optional title for the plot.</span>
<span class="sd">            color: the color of the dots</span>
<span class="sd">            show_ops: setting to also show the applied operations, only works for `text`</span>
<span class="sd">            annot: should the points be annotated</span>
<span class="sd">            axis_option: a string which is passed as `option` argument to `matplotlib.pyplot.axis` in order to control</span>
<span class="sd">                axis properties (e.g. using `&#39;equal&#39;` make circles shown circular in the plot). This might be useful</span>
<span class="sd">                for preserving geometric relationships (e.g. orthogonality) in the generated plot. See `matplotlib.pyplot.axis`</span>
<span class="sd">                [documentation](https://matplotlib.org/3.1.0/api/_as_gen/matplotlib.pyplot.axis.html#matplotlib-pyplot-axis)</span>
<span class="sd">                for possible values and their description.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">x_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">x_axis</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_axis</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">y_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">y_axis</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axis_metric</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">x_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">y_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span>
            <span class="n">y_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span>

        <span class="n">embeddings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">emb</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">x_val</span><span class="p">,</span> <span class="n">x_lab</span> <span class="o">=</span> <span class="n">emb</span><span class="o">.</span><span class="n">_get_plot_axis_value_and_label</span><span class="p">(</span>
                <span class="n">x_axis</span><span class="p">,</span> <span class="n">x_axis_metric</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="s2">&quot;x&quot;</span>
            <span class="p">)</span>
            <span class="n">y_val</span><span class="p">,</span> <span class="n">y_lab</span> <span class="o">=</span> <span class="n">emb</span><span class="o">.</span><span class="n">_get_plot_axis_value_and_label</span><span class="p">(</span>
                <span class="n">y_axis</span><span class="p">,</span> <span class="n">y_axis_metric</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="s2">&quot;y&quot;</span>
            <span class="p">)</span>
            <span class="n">emb_plot</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">emb</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">vector</span><span class="o">=</span><span class="p">[</span><span class="n">x_val</span><span class="p">,</span> <span class="n">y_val</span><span class="p">],</span> <span class="n">orig</span><span class="o">=</span><span class="n">emb</span><span class="o">.</span><span class="n">orig</span><span class="p">)</span>
            <span class="n">embeddings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">emb_plot</span><span class="p">)</span>
        <span class="n">x_label</span> <span class="o">=</span> <span class="n">x_lab</span> <span class="k">if</span> <span class="n">x_label</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">x_label</span>
        <span class="n">y_label</span> <span class="o">=</span> <span class="n">y_lab</span> <span class="k">if</span> <span class="n">y_label</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">y_label</span>
        <span class="n">handle_2d_plot</span><span class="p">(</span>
            <span class="n">embeddings</span><span class="p">,</span>
            <span class="n">kind</span><span class="o">=</span><span class="n">kind</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">xlabel</span><span class="o">=</span><span class="n">x_label</span><span class="p">,</span>
            <span class="n">ylabel</span><span class="o">=</span><span class="n">y_label</span><span class="p">,</span>
            <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
            <span class="n">show_operations</span><span class="o">=</span><span class="n">show_ops</span><span class="p">,</span>
            <span class="n">annot</span><span class="o">=</span><span class="n">annot</span><span class="p">,</span>
            <span class="n">axis_option</span><span class="o">=</span><span class="n">axis_option</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Makes (perhaps inferior) matplotlib plot. Consider using <code>plot_interactive</code> instead.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>kind</code></td>
<td><code>str</code></td>
<td>what kind of plot to make, can be <code>scatter</code>, <code>arrow</code> or <code>text</code></td>
<td><code>'arrow'</code></td>
</tr>
<tr>
<td><code>x_axis</code></td>
<td><code>Union[int, str, whatlies.embedding.Embedding]</code></td>
<td>the x-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding dimension of embedding is used.</td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>y_axis</code></td>
<td><code>Union[int, str, whatlies.embedding.Embedding]</code></td>
<td>the y-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding dimension of embedding is used.</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>axis_metric</code></td>
<td><code>Optional[Union[str, Callable, Sequence]]</code></td>
<td>the metric used to project each embedding on the axes; only used when the corresponding axis (i.e. <code>x_axis</code> or <code>y_axis</code>) is a string or an <code>Embedding</code> instance. It could be a string (<code>'cosine_similarity'</code>, <code>'cosine_distance'</code> or <code>'euclidean'</code>), or a callable that takes two vectors as input and returns a scalar value as output. To set different metrics for x- and y-axis, a list or a tuple of two elements could be given. By default (<code>None</code>), normalized scalar projection (i.e. <code>&gt;</code> operator) is used.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>x_label</code></td>
<td><code>Optional[str]</code></td>
<td>an optional label used for x-axis; if not given, it is set based on value of <code>x_axis</code>.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>y_label</code></td>
<td><code>Optional[str]</code></td>
<td>an optional label used for y-axis; if not given, it is set based on value of <code>y_axis</code>.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>title</code></td>
<td><code>Optional[str]</code></td>
<td>an optional title for the plot.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>color</code></td>
<td><code>str</code></td>
<td>the color of the dots</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>show_ops</code></td>
<td><code>bool</code></td>
<td>setting to also show the applied operations, only works for <code>text</code></td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>annot</code></td>
<td><code>bool</code></td>
<td>should the points be annotated</td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>axis_option</code></td>
<td><code>Optional[str]</code></td>
<td>a string which is passed as <code>option</code> argument to <code>matplotlib.pyplot.axis</code> in order to control axis properties (e.g. using <code>'equal'</code> make circles shown circular in the plot). This might be useful for preserving geometric relationships (e.g. orthogonality) in the generated plot. See <code>matplotlib.pyplot.axis</code> <a href="https://matplotlib.org/3.1.0/api/_as_gen/matplotlib.pyplot.axis.html#matplotlib-pyplot-axis">documentation</a> for possible values and their description.</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<h2 id="whatlies.embeddingset.EmbeddingSet.plot_3d"><code class="highlight"><span class="n">plot_3d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x_axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y_axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">z_axis</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">x_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">z_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">axis_metric</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.plot_3d" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span>
<span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">plot_3d</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">x_axis</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">y_axis</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">z_axis</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
        <span class="n">x_label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">y_label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">z_label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">title</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">axis_metric</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">annot</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a 3d visualisation of the embedding.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            x_axis: the x-axis to be used, must be given when dim &gt; 3; if an integer, the corresponding</span>
<span class="sd">                dimension of embedding is used.</span>
<span class="sd">            y_axis: the y-axis to be used, must be given when dim &gt; 3; if an integer, the corresponding</span>
<span class="sd">                dimension of embedding is used.</span>
<span class="sd">            z_axis: the z-axis to be used, must be given when dim &gt; 3; if an integer, the corresponding</span>
<span class="sd">                dimension of embedding is used.</span>
<span class="sd">            x_label: an optional label used for x-axis; if not given, it is set based on value of `x_axis`.</span>
<span class="sd">            y_label: an optional label used for y-axis; if not given, it is set based on value of `y_axis`.</span>
<span class="sd">            z_label: an optional label used for z-axis; if not given, it is set based on value of `z_axis`.</span>
<span class="sd">            title: an optional title for the plot.</span>
<span class="sd">            color: the property to user for the color</span>
<span class="sd">            axis_metric: the metric used to project each embedding on the axes; only used when the corresponding</span>
<span class="sd">                axis is a string or an `Embedding` instance. It could be a string (`&#39;cosine_similarity&#39;`,</span>
<span class="sd">                `&#39;cosine_distance&#39;` or `&#39;euclidean&#39;`), or a callable that takes two vectors as input and</span>
<span class="sd">                returns a scalar value as output. To set different metrics of the three different axes,</span>
<span class="sd">                you can pass a list/tuple of size three that describes the metrics you&#39;re interested in.</span>
<span class="sd">                By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.</span>
<span class="sd">            annot: drawn points should be annotated</span>

<span class="sd">        **Usage**</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.language import SpacyLanguage</span>
<span class="sd">        from whatlies.transformers import Pca</span>

<span class="sd">        words = [&quot;prince&quot;, &quot;princess&quot;, &quot;nurse&quot;, &quot;doctor&quot;, &quot;banker&quot;, &quot;man&quot;, &quot;woman&quot;,</span>
<span class="sd">                 &quot;cousin&quot;, &quot;neice&quot;, &quot;king&quot;, &quot;queen&quot;, &quot;dude&quot;, &quot;guy&quot;, &quot;gal&quot;, &quot;fire&quot;,</span>
<span class="sd">                 &quot;dog&quot;, &quot;cat&quot;, &quot;mouse&quot;, &quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;water&quot;,</span>
<span class="sd">                 &quot;person&quot;, &quot;family&quot;, &quot;brother&quot;, &quot;sister&quot;]</span>

<span class="sd">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span>
<span class="sd">        emb = lang[words]</span>

<span class="sd">        emb.transform(Pca(3)).plot_3d(annot=True)</span>
<span class="sd">        emb.transform(Pca(3)).plot_3d(&quot;king&quot;, &quot;dog&quot;, &quot;red&quot;)</span>
<span class="sd">        emb.transform(Pca(3)).plot_3d(&quot;king&quot;, &quot;dog&quot;, &quot;red&quot;, axis_metric=&quot;cosine_distance&quot;)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">x_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">x_axis</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_axis</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">y_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">y_axis</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">z_axis</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">z_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">z_axis</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axis_metric</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">x_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">y_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">z_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span>
            <span class="n">y_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span>
            <span class="n">z_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span>

        <span class="c1"># Determine axes values and labels</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">x_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">()[:,</span> <span class="n">x_axis</span><span class="p">]</span>
            <span class="n">x_lab</span> <span class="o">=</span> <span class="s2">&quot;Dimension &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">x_axis</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x_axis_metric</span> <span class="o">=</span> <span class="n">Embedding</span><span class="o">.</span><span class="n">_get_plot_axis_metric_callable</span><span class="p">(</span><span class="n">x_axis_metric</span><span class="p">)</span>
            <span class="n">x_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compare_against</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="n">x_axis_metric</span><span class="p">)</span>
            <span class="n">x_lab</span> <span class="o">=</span> <span class="n">x_axis</span><span class="o">.</span><span class="n">name</span>
        <span class="n">x_lab</span> <span class="o">=</span> <span class="n">x_label</span> <span class="k">if</span> <span class="n">x_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">x_lab</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_axis</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">y_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">()[:,</span> <span class="n">y_axis</span><span class="p">]</span>
            <span class="n">y_lab</span> <span class="o">=</span> <span class="s2">&quot;Dimension &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">y_axis</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">y_axis_metric</span> <span class="o">=</span> <span class="n">Embedding</span><span class="o">.</span><span class="n">_get_plot_axis_metric_callable</span><span class="p">(</span><span class="n">y_axis_metric</span><span class="p">)</span>
            <span class="n">y_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compare_against</span><span class="p">(</span><span class="n">y_axis</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="n">y_axis_metric</span><span class="p">)</span>
            <span class="n">y_lab</span> <span class="o">=</span> <span class="n">y_axis</span><span class="o">.</span><span class="n">name</span>
        <span class="n">y_lab</span> <span class="o">=</span> <span class="n">y_label</span> <span class="k">if</span> <span class="n">y_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">y_lab</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">z_axis</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">z_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">()[:,</span> <span class="n">z_axis</span><span class="p">]</span>
            <span class="n">z_lab</span> <span class="o">=</span> <span class="s2">&quot;Dimension &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">z_axis</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">z_axis_metric</span> <span class="o">=</span> <span class="n">Embedding</span><span class="o">.</span><span class="n">_get_plot_axis_metric_callable</span><span class="p">(</span><span class="n">z_axis_metric</span><span class="p">)</span>
            <span class="n">z_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compare_against</span><span class="p">(</span><span class="n">z_axis</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="n">z_axis_metric</span><span class="p">)</span>
            <span class="n">z_lab</span> <span class="o">=</span> <span class="n">z_axis</span><span class="o">.</span><span class="n">name</span>
        <span class="n">z_lab</span> <span class="o">=</span> <span class="n">z_label</span> <span class="k">if</span> <span class="n">z_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">z_lab</span>

        <span class="c1"># Save relevant information in a dataframe for plotting later.</span>
        <span class="n">plot_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;x_axis&quot;</span><span class="p">:</span> <span class="n">x_val</span><span class="p">,</span>
                <span class="s2">&quot;y_axis&quot;</span><span class="p">:</span> <span class="n">y_val</span><span class="p">,</span>
                <span class="s2">&quot;z_axis&quot;</span><span class="p">:</span> <span class="n">z_val</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()],</span>
                <span class="s2">&quot;original&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">orig</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()],</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="c1"># Deal with the colors of the dots.</span>
        <span class="k">if</span> <span class="n">color</span><span class="p">:</span>
            <span class="n">plot_df</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="nb">getattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
                <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
            <span class="p">]</span>

            <span class="n">color_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">v</span><span class="p">,</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">plot_df</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]))}</span>
            <span class="n">color_val</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">color_map</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span> <span class="k">else</span> <span class="n">k</span>
                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">plot_df</span><span class="p">[</span><span class="s2">&quot;color&quot;</span><span class="p">]</span>
            <span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">color_val</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="s2">&quot;3d&quot;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">scatter3D</span><span class="p">(</span>
            <span class="n">plot_df</span><span class="p">[</span><span class="s2">&quot;x_axis&quot;</span><span class="p">],</span> <span class="n">plot_df</span><span class="p">[</span><span class="s2">&quot;y_axis&quot;</span><span class="p">],</span> <span class="n">plot_df</span><span class="p">[</span><span class="s2">&quot;z_axis&quot;</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">color_val</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">25</span>
        <span class="p">)</span>

        <span class="c1"># Set the labels, titles, text annotations.</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">x_lab</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">y_lab</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="n">z_lab</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">annot</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">plot_df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
                    <span class="n">row</span><span class="p">[</span><span class="s2">&quot;x_axis&quot;</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;y_axis&quot;</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;z_axis&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.05</span><span class="p">,</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;original&quot;</span><span class="p">]</span>
                <span class="p">)</span>
        <span class="k">if</span> <span class="n">title</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ax</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Creates a 3d visualisation of the embedding.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x_axis</code></td>
<td><code>Union[int, str, whatlies.embedding.Embedding]</code></td>
<td>the x-axis to be used, must be given when dim &gt; 3; if an integer, the corresponding dimension of embedding is used.</td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>y_axis</code></td>
<td><code>Union[int, str, whatlies.embedding.Embedding]</code></td>
<td>the y-axis to be used, must be given when dim &gt; 3; if an integer, the corresponding dimension of embedding is used.</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>z_axis</code></td>
<td><code>Union[int, str, whatlies.embedding.Embedding]</code></td>
<td>the z-axis to be used, must be given when dim &gt; 3; if an integer, the corresponding dimension of embedding is used.</td>
<td><code>2</code></td>
</tr>
<tr>
<td><code>x_label</code></td>
<td><code>Optional[str]</code></td>
<td>an optional label used for x-axis; if not given, it is set based on value of <code>x_axis</code>.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>y_label</code></td>
<td><code>Optional[str]</code></td>
<td>an optional label used for y-axis; if not given, it is set based on value of <code>y_axis</code>.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>z_label</code></td>
<td><code>Optional[str]</code></td>
<td>an optional label used for z-axis; if not given, it is set based on value of <code>z_axis</code>.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>title</code></td>
<td><code>Optional[str]</code></td>
<td>an optional title for the plot.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>color</code></td>
<td><code>str</code></td>
<td>the property to user for the color</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>axis_metric</code></td>
<td><code>Optional[Union[str, Callable, Sequence]]</code></td>
<td>the metric used to project each embedding on the axes; only used when the corresponding axis is a string or an <code>Embedding</code> instance. It could be a string (<code>'cosine_similarity'</code>, <code>'cosine_distance'</code> or <code>'euclidean'</code>), or a callable that takes two vectors as input and returns a scalar value as output. To set different metrics of the three different axes, you can pass a list/tuple of size three that describes the metrics you're interested in. By default (<code>None</code>), normalized scalar projection (i.e. <code>&gt;</code> operator) is used.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>annot</code></td>
<td><code>bool</code></td>
<td>drawn points should be annotated</td>
<td><code>True</code></td>
</tr>
</tbody>
</table>
<p><strong>Usage</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.language</span> <span class="kn">import</span> <span class="n">SpacyLanguage</span>
<span class="kn">from</span> <span class="nn">whatlies.transformers</span> <span class="kn">import</span> <span class="n">Pca</span>

<span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;prince&quot;</span><span class="p">,</span> <span class="s2">&quot;princess&quot;</span><span class="p">,</span> <span class="s2">&quot;nurse&quot;</span><span class="p">,</span> <span class="s2">&quot;doctor&quot;</span><span class="p">,</span> <span class="s2">&quot;banker&quot;</span><span class="p">,</span> <span class="s2">&quot;man&quot;</span><span class="p">,</span> <span class="s2">&quot;woman&quot;</span><span class="p">,</span>
         <span class="s2">&quot;cousin&quot;</span><span class="p">,</span> <span class="s2">&quot;neice&quot;</span><span class="p">,</span> <span class="s2">&quot;king&quot;</span><span class="p">,</span> <span class="s2">&quot;queen&quot;</span><span class="p">,</span> <span class="s2">&quot;dude&quot;</span><span class="p">,</span> <span class="s2">&quot;guy&quot;</span><span class="p">,</span> <span class="s2">&quot;gal&quot;</span><span class="p">,</span> <span class="s2">&quot;fire&quot;</span><span class="p">,</span>
         <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;mouse&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="s2">&quot;water&quot;</span><span class="p">,</span>
         <span class="s2">&quot;person&quot;</span><span class="p">,</span> <span class="s2">&quot;family&quot;</span><span class="p">,</span> <span class="s2">&quot;brother&quot;</span><span class="p">,</span> <span class="s2">&quot;sister&quot;</span><span class="p">]</span>

<span class="n">lang</span> <span class="o">=</span> <span class="n">SpacyLanguage</span><span class="p">(</span><span class="s2">&quot;en_core_web_sm&quot;</span><span class="p">)</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">lang</span><span class="p">[</span><span class="n">words</span><span class="p">]</span>

<span class="n">emb</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">Pca</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">plot_3d</span><span class="p">(</span><span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">emb</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">Pca</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">plot_3d</span><span class="p">(</span><span class="s2">&quot;king&quot;</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">emb</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">Pca</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">plot_3d</span><span class="p">(</span><span class="s2">&quot;king&quot;</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">axis_metric</span><span class="o">=</span><span class="s2">&quot;cosine_distance&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.plot_brush"><code class="highlight"><span class="n">plot_brush</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x_axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y_axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis_metric</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">n_show</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">interactive</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.plot_brush" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">plot_brush</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">x_axis</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">y_axis</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">axis_metric</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">x_label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">y_label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">title</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">annot</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">n_show</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
        <span class="n">interactive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes an interactive plot with a brush element.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            x_axis: the x-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding</span>
<span class="sd">                dimension of embedding is used.</span>
<span class="sd">            y_axis: the y-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding</span>
<span class="sd">                dimension of embedding is used.</span>
<span class="sd">            axis_metric: the metric used to project each embedding on the axes; only used when the corresponding</span>
<span class="sd">                axis (i.e. `x_axis` or `y_axis`) is a string or an `Embedding` instance. It could be a string</span>
<span class="sd">                (`&#39;cosine_similarity&#39;`, `&#39;cosine_distance&#39;` or `&#39;euclidean&#39;`), or a callable that takes two vectors as input</span>
<span class="sd">                and returns a scalar value as output. To set different metrics for x- and y-axis, a list or a tuple of</span>
<span class="sd">                two elements could be given. By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.</span>
<span class="sd">            x_label: an optional label used for x-axis; if not given, it is set based on `x_axis` value.</span>
<span class="sd">            y_label: an optional label used for y-axis; if not given, it is set based on `y_axis` value.</span>
<span class="sd">            title: an optional title for the plot; if not given, it is set based on `x_axis` and `y_axis` values.</span>
<span class="sd">            annot: drawn points should be annotated</span>
<span class="sd">            color: a property that will be used for plotting</span>
<span class="sd">            n_show: number of points to show in text selection</span>
<span class="sd">            interactive: turn on/off the zoom/panning feature; if turned on, zoom/pan can be triggered when shift key is held</span>

<span class="sd">        **Usage**</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.language import SpacyLanguage</span>
<span class="sd">        from whatlies.transformers import Pca</span>

<span class="sd">        words = [&quot;prince&quot;, &quot;princess&quot;, &quot;nurse&quot;, &quot;doctor&quot;, &quot;banker&quot;, &quot;man&quot;, &quot;woman&quot;,</span>
<span class="sd">                 &quot;cousin&quot;, &quot;neice&quot;, &quot;king&quot;, &quot;queen&quot;, &quot;dude&quot;, &quot;guy&quot;, &quot;gal&quot;, &quot;fire&quot;,</span>
<span class="sd">                 &quot;dog&quot;, &quot;cat&quot;, &quot;mouse&quot;, &quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;water&quot;,</span>
<span class="sd">                 &quot;person&quot;, &quot;family&quot;, &quot;brother&quot;, &quot;sister&quot;]</span>

<span class="sd">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span>
<span class="sd">        emb = lang[words].transform(Pca(2))</span>

<span class="sd">        emb.plot_brush()</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">x_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">x_axis</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_axis</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">y_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">y_axis</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axis_metric</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">x_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">y_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span>
            <span class="n">y_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span>

        <span class="c1"># Determine axes values and labels</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">x_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">()[:,</span> <span class="n">x_axis</span><span class="p">]</span>
            <span class="n">x_lab</span> <span class="o">=</span> <span class="s2">&quot;Dimension &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">x_axis</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x_axis_metric</span> <span class="o">=</span> <span class="n">Embedding</span><span class="o">.</span><span class="n">_get_plot_axis_metric_callable</span><span class="p">(</span><span class="n">x_axis_metric</span><span class="p">)</span>
            <span class="n">x_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compare_against</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="n">x_axis_metric</span><span class="p">)</span>
            <span class="n">x_lab</span> <span class="o">=</span> <span class="n">x_axis</span><span class="o">.</span><span class="n">name</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_axis</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">y_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">()[:,</span> <span class="n">y_axis</span><span class="p">]</span>
            <span class="n">y_lab</span> <span class="o">=</span> <span class="s2">&quot;Dimension &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">y_axis</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">y_axis_metric</span> <span class="o">=</span> <span class="n">Embedding</span><span class="o">.</span><span class="n">_get_plot_axis_metric_callable</span><span class="p">(</span><span class="n">y_axis_metric</span><span class="p">)</span>
            <span class="n">y_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compare_against</span><span class="p">(</span><span class="n">y_axis</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="n">y_axis_metric</span><span class="p">)</span>
            <span class="n">y_lab</span> <span class="o">=</span> <span class="n">y_axis</span><span class="o">.</span><span class="n">name</span>
        <span class="n">x_label</span> <span class="o">=</span> <span class="n">x_label</span> <span class="k">if</span> <span class="n">x_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">x_lab</span>
        <span class="n">y_label</span> <span class="o">=</span> <span class="n">y_label</span> <span class="k">if</span> <span class="n">y_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">y_lab</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">title</span> <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s2">&quot;Click and Drag Here&quot;</span>

        <span class="n">plot_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;x_axis&quot;</span><span class="p">:</span> <span class="n">x_val</span><span class="p">,</span>
                <span class="s2">&quot;y_axis&quot;</span><span class="p">:</span> <span class="n">y_val</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()],</span>
                <span class="s2">&quot;original&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">orig</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()],</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">color</span><span class="p">:</span>
            <span class="n">plot_df</span><span class="p">[</span><span class="n">color</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="nb">getattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
                <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
            <span class="p">]</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">plot_df</span><span class="p">)</span>
            <span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
            <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;x_axis&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">x_label</span><span class="p">)),</span>
                <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;y_axis&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">y_label</span><span class="p">)),</span>
                <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;original&quot;</span><span class="p">],</span>
                <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;:N&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">color</span> <span class="k">else</span> <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="n">color</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">annot</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">plot_df</span><span class="p">)</span>
                <span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">dx</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
                    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;x_axis&quot;</span><span class="p">,</span>
                    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;y_axis&quot;</span><span class="p">,</span>
                    <span class="n">text</span><span class="o">=</span><span class="s2">&quot;original&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="o">+</span> <span class="n">text</span>

        <span class="n">brush</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_interval</span><span class="p">(</span>
            <span class="n">on</span><span class="o">=</span><span class="s2">&quot;[mousedown[!event.shiftKey], mouseup] &gt; mousemove&quot;</span><span class="p">,</span>
            <span class="n">translate</span><span class="o">=</span><span class="s2">&quot;[mousedown[!event.shiftKey], mouseup] &gt; mousemove!&quot;</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">ranked_text</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">plot_df</span><span class="p">)</span>
            <span class="o">.</span><span class="n">mark_text</span><span class="p">()</span>
            <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
                <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s2">&quot;row_number:O&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
                <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;:N&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">color</span> <span class="k">else</span> <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="n">color</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">transform_window</span><span class="p">(</span><span class="n">row_number</span><span class="o">=</span><span class="s2">&quot;row_number()&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>
            <span class="o">.</span><span class="n">transform_window</span><span class="p">(</span><span class="n">rank</span><span class="o">=</span><span class="s2">&quot;rank(row_number)&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">datum</span><span class="o">.</span><span class="n">rank</span> <span class="o">&lt;</span> <span class="n">n_show</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">text_plt</span> <span class="o">=</span> <span class="n">ranked_text</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;original:N&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Text Selection&quot;</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">interactive</span><span class="p">:</span>
            <span class="n">zoom</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_interval</span><span class="p">(</span>
                <span class="n">bind</span><span class="o">=</span><span class="s2">&quot;scales&quot;</span><span class="p">,</span>
                <span class="n">on</span><span class="o">=</span><span class="s2">&quot;[mousedown[event.shiftKey], mouseup] &gt; mousemove&quot;</span><span class="p">,</span>
                <span class="n">translate</span><span class="o">=</span><span class="s2">&quot;[mousedown[event.shiftKey], mouseup] &gt; mousemove!&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span><span class="n">zoom</span><span class="p">,</span> <span class="n">brush</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span><span class="n">brush</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span> <span class="o">|</span> <span class="n">text_plt</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Makes an interactive plot with a brush element.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x_axis</code></td>
<td><code>Union[int, str, whatlies.embedding.Embedding]</code></td>
<td>the x-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding dimension of embedding is used.</td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>y_axis</code></td>
<td><code>Union[int, str, whatlies.embedding.Embedding]</code></td>
<td>the y-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding dimension of embedding is used.</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>axis_metric</code></td>
<td><code>Optional[Union[str, Callable, Sequence]]</code></td>
<td>the metric used to project each embedding on the axes; only used when the corresponding axis (i.e. <code>x_axis</code> or <code>y_axis</code>) is a string or an <code>Embedding</code> instance. It could be a string (<code>'cosine_similarity'</code>, <code>'cosine_distance'</code> or <code>'euclidean'</code>), or a callable that takes two vectors as input and returns a scalar value as output. To set different metrics for x- and y-axis, a list or a tuple of two elements could be given. By default (<code>None</code>), normalized scalar projection (i.e. <code>&gt;</code> operator) is used.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>x_label</code></td>
<td><code>Optional[str]</code></td>
<td>an optional label used for x-axis; if not given, it is set based on <code>x_axis</code> value.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>y_label</code></td>
<td><code>Optional[str]</code></td>
<td>an optional label used for y-axis; if not given, it is set based on <code>y_axis</code> value.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>title</code></td>
<td><code>Optional[str]</code></td>
<td>an optional title for the plot; if not given, it is set based on <code>x_axis</code> and <code>y_axis</code> values.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>annot</code></td>
<td><code>bool</code></td>
<td>drawn points should be annotated</td>
<td><code>False</code></td>
</tr>
<tr>
<td><code>color</code></td>
<td><code>Union[NoneType, str]</code></td>
<td>a property that will be used for plotting</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>n_show</code></td>
<td><code>int</code></td>
<td>number of points to show in text selection</td>
<td><code>15</code></td>
</tr>
<tr>
<td><code>interactive</code></td>
<td><code>bool</code></td>
<td>turn on/off the zoom/panning feature; if turned on, zoom/pan can be triggered when shift key is held</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
<p><strong>Usage</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.language</span> <span class="kn">import</span> <span class="n">SpacyLanguage</span>
<span class="kn">from</span> <span class="nn">whatlies.transformers</span> <span class="kn">import</span> <span class="n">Pca</span>

<span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;prince&quot;</span><span class="p">,</span> <span class="s2">&quot;princess&quot;</span><span class="p">,</span> <span class="s2">&quot;nurse&quot;</span><span class="p">,</span> <span class="s2">&quot;doctor&quot;</span><span class="p">,</span> <span class="s2">&quot;banker&quot;</span><span class="p">,</span> <span class="s2">&quot;man&quot;</span><span class="p">,</span> <span class="s2">&quot;woman&quot;</span><span class="p">,</span>
         <span class="s2">&quot;cousin&quot;</span><span class="p">,</span> <span class="s2">&quot;neice&quot;</span><span class="p">,</span> <span class="s2">&quot;king&quot;</span><span class="p">,</span> <span class="s2">&quot;queen&quot;</span><span class="p">,</span> <span class="s2">&quot;dude&quot;</span><span class="p">,</span> <span class="s2">&quot;guy&quot;</span><span class="p">,</span> <span class="s2">&quot;gal&quot;</span><span class="p">,</span> <span class="s2">&quot;fire&quot;</span><span class="p">,</span>
         <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;mouse&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="s2">&quot;water&quot;</span><span class="p">,</span>
         <span class="s2">&quot;person&quot;</span><span class="p">,</span> <span class="s2">&quot;family&quot;</span><span class="p">,</span> <span class="s2">&quot;brother&quot;</span><span class="p">,</span> <span class="s2">&quot;sister&quot;</span><span class="p">]</span>

<span class="n">lang</span> <span class="o">=</span> <span class="n">SpacyLanguage</span><span class="p">(</span><span class="s2">&quot;en_core_web_sm&quot;</span><span class="p">)</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">lang</span><span class="p">[</span><span class="n">words</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">Pca</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>

<span class="n">emb</span><span class="o">.</span><span class="n">plot_brush</span><span class="p">()</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.plot_distance"><code class="highlight"><span class="n">plot_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;cosine&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.plot_distance" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span>
<span class="normal">928</span>
<span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span>
<span class="normal">953</span>
<span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">plot_distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;cosine&quot;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Make a distance plot. Shows you the distance between all the word embeddings in the set.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            metric: `&#39;cosine&#39;`, `&#39;correlation&#39;` or `&#39;euclidean&#39;`</span>
<span class="sd">            norm: normalise the vectors before calculating the distances</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.language import SpacyLanguage</span>
<span class="sd">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span>

<span class="sd">        names = [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;, &#39;yellow&#39;, &#39;cat&#39;, &#39;dog&#39;, &#39;mouse&#39;, &#39;rat&#39;, &#39;bike&#39;, &#39;car&#39;]</span>
<span class="sd">        emb = lang[names]</span>
<span class="sd">        emb.plot_distance(metric=&#39;cosine&#39;)</span>
<span class="sd">        emb.plot_distance(metric=&#39;euclidean&#39;)</span>
<span class="sd">        emb.plot_distance(metric=&#39;correlation&#39;)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">allowed_metrics</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;cosine&quot;</span><span class="p">,</span> <span class="s2">&quot;correlation&quot;</span><span class="p">,</span> <span class="s2">&quot;euclidean&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">metric</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_metrics</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The `metric` argument must be in </span><span class="si">{</span><span class="n">allowed_metrics</span><span class="si">}</span><span class="s2">, got: </span><span class="si">{</span><span class="n">metric</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
        <span class="n">X</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">(</span><span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">metric</span> <span class="o">==</span> <span class="s2">&quot;cosine&quot;</span><span class="p">:</span>
            <span class="n">distances</span> <span class="o">=</span> <span class="n">cosine_distances</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">metric</span> <span class="o">==</span> <span class="s2">&quot;correlation&quot;</span><span class="p">:</span>
            <span class="n">distances</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">corrcoef</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
            <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">metric</span> <span class="o">==</span> <span class="s2">&quot;euclidean&quot;</span><span class="p">:</span>
            <span class="n">distances</span> <span class="o">=</span> <span class="n">euclidean_distances</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
            <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">distances</span><span class="p">)</span>

        <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">distances</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">()</span><span class="o">.</span><span class="n">reversed</span><span class="p">(),</span> <span class="n">vmin</span><span class="o">=</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">vmax</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)),</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)),</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>

        <span class="c1"># Rotate the tick labels and set their alignment.</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">rotation_mode</span><span class="o">=</span><span class="s2">&quot;anchor&quot;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Make a distance plot. Shows you the distance between all the word embeddings in the set.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>metric</code></td>
<td></td>
<td><code>'cosine'</code>, <code>'correlation'</code> or <code>'euclidean'</code></td>
<td><code>'cosine'</code></td>
</tr>
<tr>
<td><code>norm</code></td>
<td></td>
<td>normalise the vectors before calculating the distances</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.language</span> <span class="kn">import</span> <span class="n">SpacyLanguage</span>
<span class="n">lang</span> <span class="o">=</span> <span class="n">SpacyLanguage</span><span class="p">(</span><span class="s2">&quot;en_core_web_sm&quot;</span><span class="p">)</span>

<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;mouse&#39;</span><span class="p">,</span> <span class="s1">&#39;rat&#39;</span><span class="p">,</span> <span class="s1">&#39;bike&#39;</span><span class="p">,</span> <span class="s1">&#39;car&#39;</span><span class="p">]</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">lang</span><span class="p">[</span><span class="n">names</span><span class="p">]</span>
<span class="n">emb</span><span class="o">.</span><span class="n">plot_distance</span><span class="p">(</span><span class="n">metric</span><span class="o">=</span><span class="s1">&#39;cosine&#39;</span><span class="p">)</span>
<span class="n">emb</span><span class="o">.</span><span class="n">plot_distance</span><span class="p">(</span><span class="n">metric</span><span class="o">=</span><span class="s1">&#39;euclidean&#39;</span><span class="p">)</span>
<span class="n">emb</span><span class="o">.</span><span class="n">plot_distance</span><span class="p">(</span><span class="n">metric</span><span class="o">=</span><span class="s1">&#39;correlation&#39;</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.plot_interactive"><code class="highlight"><span class="n">plot_interactive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x_axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y_axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis_metric</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">x_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y_label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">interactive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.plot_interactive" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">plot_interactive</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">x_axis</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">y_axis</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">axis_metric</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">x_label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">y_label</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">title</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">annot</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">interactive</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes highly interactive plot of the set of embeddings.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            x_axis: the x-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding</span>
<span class="sd">                dimension of embedding is used.</span>
<span class="sd">            y_axis: the y-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding</span>
<span class="sd">                dimension of embedding is used.</span>
<span class="sd">            axis_metric: the metric used to project each embedding on the axes; only used when the corresponding</span>
<span class="sd">                axis (i.e. `x_axis` or `y_axis`) is a string or an `Embedding` instance. It could be a string</span>
<span class="sd">                (`&#39;cosine_similarity&#39;`, `&#39;cosine_distance&#39;` or `&#39;euclidean&#39;`), or a callable that takes two vectors as input</span>
<span class="sd">                and returns a scalar value as output. To set different metrics for x- and y-axis, a list or a tuple of</span>
<span class="sd">                two elements could be given. By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.</span>
<span class="sd">            x_label: an optional label used for x-axis; if not given, it is set based on `x_axis` value.</span>
<span class="sd">            y_label: an optional label used for y-axis; if not given, it is set based on `y_axis` value.</span>
<span class="sd">            title: an optional title for the plot; if not given, it is set based on `x_axis` and `y_axis` values.</span>
<span class="sd">            annot: drawn points should be annotated</span>
<span class="sd">            color: a property that will be used for plotting</span>
<span class="sd">            interactive: turn on/off the zoom/panning feature</span>

<span class="sd">        **Usage**</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.language import SpacyLanguage</span>

<span class="sd">        words = [&quot;prince&quot;, &quot;princess&quot;, &quot;nurse&quot;, &quot;doctor&quot;, &quot;banker&quot;, &quot;man&quot;, &quot;woman&quot;,</span>
<span class="sd">                 &quot;cousin&quot;, &quot;neice&quot;, &quot;king&quot;, &quot;queen&quot;, &quot;dude&quot;, &quot;guy&quot;, &quot;gal&quot;, &quot;fire&quot;,</span>
<span class="sd">                 &quot;dog&quot;, &quot;cat&quot;, &quot;mouse&quot;, &quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;water&quot;,</span>
<span class="sd">                 &quot;person&quot;, &quot;family&quot;, &quot;brother&quot;, &quot;sister&quot;]</span>

<span class="sd">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span>
<span class="sd">        emb = lang[words]</span>

<span class="sd">        emb.plot_interactive(&#39;man&#39;, &#39;woman&#39;)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">x_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">x_axis</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_axis</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">y_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">y_axis</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axis_metric</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">x_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">y_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span>
            <span class="n">y_axis_metric</span> <span class="o">=</span> <span class="n">axis_metric</span>

        <span class="c1"># Determine axes values and labels</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">x_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">()[:,</span> <span class="n">x_axis</span><span class="p">]</span>
            <span class="n">x_lab</span> <span class="o">=</span> <span class="s2">&quot;Dimension &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">x_axis</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x_axis_metric</span> <span class="o">=</span> <span class="n">Embedding</span><span class="o">.</span><span class="n">_get_plot_axis_metric_callable</span><span class="p">(</span><span class="n">x_axis_metric</span><span class="p">)</span>
            <span class="n">x_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compare_against</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="n">x_axis_metric</span><span class="p">)</span>
            <span class="n">x_lab</span> <span class="o">=</span> <span class="n">x_axis</span><span class="o">.</span><span class="n">name</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_axis</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">y_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">()[:,</span> <span class="n">y_axis</span><span class="p">]</span>
            <span class="n">y_lab</span> <span class="o">=</span> <span class="s2">&quot;Dimension &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">y_axis</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">y_axis_metric</span> <span class="o">=</span> <span class="n">Embedding</span><span class="o">.</span><span class="n">_get_plot_axis_metric_callable</span><span class="p">(</span><span class="n">y_axis_metric</span><span class="p">)</span>
            <span class="n">y_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compare_against</span><span class="p">(</span><span class="n">y_axis</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="n">y_axis_metric</span><span class="p">)</span>
            <span class="n">y_lab</span> <span class="o">=</span> <span class="n">y_axis</span><span class="o">.</span><span class="n">name</span>
        <span class="n">x_label</span> <span class="o">=</span> <span class="n">x_label</span> <span class="k">if</span> <span class="n">x_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">x_lab</span>
        <span class="n">y_label</span> <span class="o">=</span> <span class="n">y_label</span> <span class="k">if</span> <span class="n">y_label</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">y_lab</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">title</span> <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x_lab</span><span class="si">}</span><span class="s2"> vs. </span><span class="si">{</span><span class="n">y_lab</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">plot_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;x_axis&quot;</span><span class="p">:</span> <span class="n">x_val</span><span class="p">,</span>
                <span class="s2">&quot;y_axis&quot;</span><span class="p">:</span> <span class="n">y_val</span><span class="p">,</span>
                <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()],</span>
                <span class="s2">&quot;original&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">orig</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()],</span>
            <span class="p">}</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">color</span><span class="p">:</span>
            <span class="n">plot_df</span><span class="p">[</span><span class="n">color</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="nb">getattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
                <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
            <span class="p">]</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">plot_df</span><span class="p">)</span>
            <span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
            <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;x_axis&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">x_label</span><span class="p">)),</span>
                <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s2">&quot;y_axis&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">y_label</span><span class="p">)),</span>
                <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;original&quot;</span><span class="p">],</span>
                <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s2">&quot;:N&quot;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">color</span> <span class="k">else</span> <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="n">color</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">interactive</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">interactive</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">annot</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">plot_df</span><span class="p">)</span>
                <span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">dx</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span>
                <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
                    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;x_axis&quot;</span><span class="p">,</span>
                    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;y_axis&quot;</span><span class="p">,</span>
                    <span class="n">text</span><span class="o">=</span><span class="s2">&quot;original&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="o">+</span> <span class="n">text</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Makes highly interactive plot of the set of embeddings.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x_axis</code></td>
<td><code>Union[int, str, whatlies.embedding.Embedding]</code></td>
<td>the x-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding dimension of embedding is used.</td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>y_axis</code></td>
<td><code>Union[int, str, whatlies.embedding.Embedding]</code></td>
<td>the y-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding dimension of embedding is used.</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>axis_metric</code></td>
<td><code>Optional[Union[str, Callable, Sequence]]</code></td>
<td>the metric used to project each embedding on the axes; only used when the corresponding axis (i.e. <code>x_axis</code> or <code>y_axis</code>) is a string or an <code>Embedding</code> instance. It could be a string (<code>'cosine_similarity'</code>, <code>'cosine_distance'</code> or <code>'euclidean'</code>), or a callable that takes two vectors as input and returns a scalar value as output. To set different metrics for x- and y-axis, a list or a tuple of two elements could be given. By default (<code>None</code>), normalized scalar projection (i.e. <code>&gt;</code> operator) is used.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>x_label</code></td>
<td><code>Optional[str]</code></td>
<td>an optional label used for x-axis; if not given, it is set based on <code>x_axis</code> value.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>y_label</code></td>
<td><code>Optional[str]</code></td>
<td>an optional label used for y-axis; if not given, it is set based on <code>y_axis</code> value.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>title</code></td>
<td><code>Optional[str]</code></td>
<td>an optional title for the plot; if not given, it is set based on <code>x_axis</code> and <code>y_axis</code> values.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>annot</code></td>
<td><code>bool</code></td>
<td>drawn points should be annotated</td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>color</code></td>
<td><code>Union[NoneType, str]</code></td>
<td>a property that will be used for plotting</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>interactive</code></td>
<td><code>bool</code></td>
<td>turn on/off the zoom/panning feature</td>
<td><code>True</code></td>
</tr>
</tbody>
</table>
<p><strong>Usage</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.language</span> <span class="kn">import</span> <span class="n">SpacyLanguage</span>

<span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;prince&quot;</span><span class="p">,</span> <span class="s2">&quot;princess&quot;</span><span class="p">,</span> <span class="s2">&quot;nurse&quot;</span><span class="p">,</span> <span class="s2">&quot;doctor&quot;</span><span class="p">,</span> <span class="s2">&quot;banker&quot;</span><span class="p">,</span> <span class="s2">&quot;man&quot;</span><span class="p">,</span> <span class="s2">&quot;woman&quot;</span><span class="p">,</span>
         <span class="s2">&quot;cousin&quot;</span><span class="p">,</span> <span class="s2">&quot;neice&quot;</span><span class="p">,</span> <span class="s2">&quot;king&quot;</span><span class="p">,</span> <span class="s2">&quot;queen&quot;</span><span class="p">,</span> <span class="s2">&quot;dude&quot;</span><span class="p">,</span> <span class="s2">&quot;guy&quot;</span><span class="p">,</span> <span class="s2">&quot;gal&quot;</span><span class="p">,</span> <span class="s2">&quot;fire&quot;</span><span class="p">,</span>
         <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;mouse&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="s2">&quot;water&quot;</span><span class="p">,</span>
         <span class="s2">&quot;person&quot;</span><span class="p">,</span> <span class="s2">&quot;family&quot;</span><span class="p">,</span> <span class="s2">&quot;brother&quot;</span><span class="p">,</span> <span class="s2">&quot;sister&quot;</span><span class="p">]</span>

<span class="n">lang</span> <span class="o">=</span> <span class="n">SpacyLanguage</span><span class="p">(</span><span class="s2">&quot;en_core_web_sm&quot;</span><span class="p">)</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">lang</span><span class="p">[</span><span class="n">words</span><span class="p">]</span>

<span class="n">emb</span><span class="o">.</span><span class="n">plot_interactive</span><span class="p">(</span><span class="s1">&#39;man&#39;</span><span class="p">,</span> <span class="s1">&#39;woman&#39;</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.plot_interactive_matrix"><code class="highlight"><span class="n">plot_interactive_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">axes</span><span class="p">,</span> <span class="n">axes_metric</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.plot_interactive_matrix" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">plot_interactive_matrix</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="n">axes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">],</span>
        <span class="n">axes_metric</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">annot</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes highly interactive plot of the set of embeddings.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            axes: the axes that we wish to plot; each could be either an integer, the name of</span>
<span class="sd">                an existing embedding, or an `Embedding` instance (default: `0, 1`).</span>
<span class="sd">            axes_metric: the metric used to project each embedding on the axes; only used when the corresponding</span>
<span class="sd">                axis is a string or an `Embedding` instance. It could be a string (`&#39;cosine_similarity&#39;`,</span>
<span class="sd">                `&#39;cosine_distance&#39;` or `&#39;euclidean&#39;`), or a callable that takes two vectors as input and</span>
<span class="sd">                returns a scalar value as output. To set different metrics for different axes, a list or a tuple of</span>
<span class="sd">                the same length as `axes` could be given. By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.</span>
<span class="sd">            annot: drawn points should be annotated</span>
<span class="sd">            width: width of the visual</span>
<span class="sd">            height: height of the visual</span>

<span class="sd">        **Usage**</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.language import SpacyLanguage</span>
<span class="sd">        from whatlies.transformers import Pca</span>

<span class="sd">        words = [&quot;prince&quot;, &quot;princess&quot;, &quot;nurse&quot;, &quot;doctor&quot;, &quot;banker&quot;, &quot;man&quot;, &quot;woman&quot;,</span>
<span class="sd">                 &quot;cousin&quot;, &quot;neice&quot;, &quot;king&quot;, &quot;queen&quot;, &quot;dude&quot;, &quot;guy&quot;, &quot;gal&quot;, &quot;fire&quot;,</span>
<span class="sd">                 &quot;dog&quot;, &quot;cat&quot;, &quot;mouse&quot;, &quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;water&quot;,</span>
<span class="sd">                 &quot;person&quot;, &quot;family&quot;, &quot;brother&quot;, &quot;sister&quot;]</span>

<span class="sd">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span>
<span class="sd">        emb = lang[words]</span>

<span class="sd">        emb.transform(Pca(3)).plot_interactive_matrix(0, 1, 2)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Set default value of axes, if not given.</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">axes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes_metric</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">))</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes_metric</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The number of given axes metrics should be the same as the number of given axes. Got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span><span class="si">}</span><span class="s2"> axes vs. </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">axes_metric</span><span class="p">)</span><span class="si">}</span><span class="s2"> metrics.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axes_metric</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="n">axes_metric</span> <span class="o">=</span> <span class="p">[</span><span class="n">axes_metric</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">axes</span><span class="p">)</span>

        <span class="c1"># Get values of each axis according to their type.</span>
        <span class="n">axes_vals</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">X</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">axis</span><span class="p">,</span> <span class="n">metric</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">axes_metric</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="n">vals</span> <span class="o">=</span> <span class="n">X</span><span class="p">[:,</span> <span class="n">axis</span><span class="p">]</span>
                <span class="n">axes_vals</span><span class="p">[</span><span class="s2">&quot;Dimension &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)]</span> <span class="o">=</span> <span class="n">vals</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                    <span class="n">axis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span>
                <span class="n">metric</span> <span class="o">=</span> <span class="n">Embedding</span><span class="o">.</span><span class="n">_get_plot_axis_metric_callable</span><span class="p">(</span><span class="n">metric</span><span class="p">)</span>
                <span class="n">vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compare_against</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">mapping</span><span class="o">=</span><span class="n">metric</span><span class="p">)</span>
                <span class="n">axes_vals</span><span class="p">[</span><span class="n">axis</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">vals</span>

        <span class="n">plot_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">axes_vals</span><span class="p">)</span>
        <span class="n">plot_df</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
        <span class="n">plot_df</span><span class="p">[</span><span class="s2">&quot;original&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">orig</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
        <span class="n">axes_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">axes_vals</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">plot_df</span><span class="p">)</span>
            <span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span>
            <span class="o">.</span><span class="n">encode</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="s2">&quot;column&quot;</span><span class="p">),</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;quantitative&quot;</span><span class="p">),</span>
                <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="n">alt</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="s2">&quot;row&quot;</span><span class="p">),</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;quantitative&quot;</span><span class="p">),</span>
                <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;original&quot;</span><span class="p">],</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">annot</span><span class="p">:</span>
            <span class="n">text_stuff</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">dx</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;original&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="o">+</span> <span class="n">text_stuff</span>

        <span class="n">result</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">result</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">)</span>
            <span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">axes_names</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">column</span><span class="o">=</span><span class="n">axes_names</span><span class="p">)</span>
            <span class="o">.</span><span class="n">interactive</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Makes highly interactive plot of the set of embeddings.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*axes</code></td>
<td><code>Union[int, str, whatlies.embedding.Embedding]</code></td>
<td>the axes that we wish to plot; each could be either an integer, the name of an existing embedding, or an <code>Embedding</code> instance (default: <code>0, 1</code>).</td>
<td><code>()</code></td>
</tr>
<tr>
<td><code>axes_metric</code></td>
<td><code>Optional[Union[str, Callable, Sequence]]</code></td>
<td>the metric used to project each embedding on the axes; only used when the corresponding axis is a string or an <code>Embedding</code> instance. It could be a string (<code>'cosine_similarity'</code>, <code>'cosine_distance'</code> or <code>'euclidean'</code>), or a callable that takes two vectors as input and returns a scalar value as output. To set different metrics for different axes, a list or a tuple of the same length as <code>axes</code> could be given. By default (<code>None</code>), normalized scalar projection (i.e. <code>&gt;</code> operator) is used.</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>annot</code></td>
<td><code>bool</code></td>
<td>drawn points should be annotated</td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>width</code></td>
<td><code>int</code></td>
<td>width of the visual</td>
<td><code>200</code></td>
</tr>
<tr>
<td><code>height</code></td>
<td><code>int</code></td>
<td>height of the visual</td>
<td><code>200</code></td>
</tr>
</tbody>
</table>
<p><strong>Usage</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.language</span> <span class="kn">import</span> <span class="n">SpacyLanguage</span>
<span class="kn">from</span> <span class="nn">whatlies.transformers</span> <span class="kn">import</span> <span class="n">Pca</span>

<span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;prince&quot;</span><span class="p">,</span> <span class="s2">&quot;princess&quot;</span><span class="p">,</span> <span class="s2">&quot;nurse&quot;</span><span class="p">,</span> <span class="s2">&quot;doctor&quot;</span><span class="p">,</span> <span class="s2">&quot;banker&quot;</span><span class="p">,</span> <span class="s2">&quot;man&quot;</span><span class="p">,</span> <span class="s2">&quot;woman&quot;</span><span class="p">,</span>
         <span class="s2">&quot;cousin&quot;</span><span class="p">,</span> <span class="s2">&quot;neice&quot;</span><span class="p">,</span> <span class="s2">&quot;king&quot;</span><span class="p">,</span> <span class="s2">&quot;queen&quot;</span><span class="p">,</span> <span class="s2">&quot;dude&quot;</span><span class="p">,</span> <span class="s2">&quot;guy&quot;</span><span class="p">,</span> <span class="s2">&quot;gal&quot;</span><span class="p">,</span> <span class="s2">&quot;fire&quot;</span><span class="p">,</span>
         <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;mouse&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="s2">&quot;water&quot;</span><span class="p">,</span>
         <span class="s2">&quot;person&quot;</span><span class="p">,</span> <span class="s2">&quot;family&quot;</span><span class="p">,</span> <span class="s2">&quot;brother&quot;</span><span class="p">,</span> <span class="s2">&quot;sister&quot;</span><span class="p">]</span>

<span class="n">lang</span> <span class="o">=</span> <span class="n">SpacyLanguage</span><span class="p">(</span><span class="s2">&quot;en_core_web_sm&quot;</span><span class="p">)</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">lang</span><span class="p">[</span><span class="n">words</span><span class="p">]</span>

<span class="n">emb</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">Pca</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">plot_interactive_matrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.plot_movement"><code class="highlight"><span class="n">plot_movement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">x_axis</span><span class="p">,</span> <span class="n">y_axis</span><span class="p">,</span> <span class="n">first_group_name</span><span class="o">=</span><span class="s1">&#39;before&#39;</span><span class="p">,</span> <span class="n">second_group_name</span><span class="o">=</span><span class="s1">&#39;after&#39;</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.plot_movement" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">plot_movement</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">other</span><span class="p">,</span>
        <span class="n">x_axis</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">],</span>
        <span class="n">y_axis</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">],</span>
        <span class="n">first_group_name</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">,</span>
        <span class="n">second_group_name</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">,</span>
        <span class="n">annot</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes highly interactive plot of the movement of embeddings</span>
<span class="sd">        between two sets of embeddings.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            other: the other embeddingset</span>
<span class="sd">            x_axis: the x-axis to be used, must be given when dim &gt; 2</span>
<span class="sd">            y_axis: the y-axis to be used, must be given when dim &gt; 2</span>
<span class="sd">            first_group_name: the name to give to the first set of embeddings (default: &quot;before&quot;)</span>
<span class="sd">            second_group_name: the name to give to the second set of embeddings (default: &quot;after&quot;)</span>
<span class="sd">            annot: drawn points should be annotated</span>

<span class="sd">        **Usage**</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.language import SpacyLanguage</span>

<span class="sd">        words = [&quot;prince&quot;, &quot;princess&quot;, &quot;nurse&quot;, &quot;doctor&quot;, &quot;banker&quot;, &quot;man&quot;, &quot;woman&quot;,</span>
<span class="sd">                 &quot;cousin&quot;, &quot;neice&quot;, &quot;king&quot;, &quot;queen&quot;, &quot;dude&quot;, &quot;guy&quot;, &quot;gal&quot;, &quot;fire&quot;,</span>
<span class="sd">                 &quot;dog&quot;, &quot;cat&quot;, &quot;mouse&quot;, &quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;water&quot;,</span>
<span class="sd">                 &quot;person&quot;, &quot;family&quot;, &quot;brother&quot;, &quot;sister&quot;]</span>

<span class="sd">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span>
<span class="sd">        emb = lang[words]</span>
<span class="sd">        emb_new = emb - emb[&#39;king&#39;]</span>

<span class="sd">        emb.plot_movement(emb_new, &#39;man&#39;, &#39;woman&#39;)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">x_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">x_axis</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_axis</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">y_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">y_axis</span><span class="p">]</span>

        <span class="n">df1</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">to_axis_df</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="n">y_axis</span><span class="p">)</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;original&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
        <span class="p">)</span>
        <span class="n">df2</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">other</span><span class="o">.</span><span class="n">to_axis_df</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="n">y_axis</span><span class="p">)</span>
            <span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;original&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>
            <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">df1</span><span class="o">.</span><span class="n">index</span><span class="p">)]</span>
        <span class="p">)</span>
        <span class="n">df_draw</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">])</span>
            <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
            <span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s2">&quot;original&quot;</span><span class="p">])</span>
            <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">plots</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">grp_df</span> <span class="ow">in</span> <span class="n">df_draw</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;original&quot;</span><span class="p">):</span>
            <span class="n">_</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">grp_df</span><span class="p">)</span>
                <span class="o">.</span><span class="n">mark_line</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span> <span class="n">strokeDash</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
                <span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;x_axis:Q&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;y_axis:Q&quot;</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">plots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_</span><span class="p">)</span>
        <span class="n">p0</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">plots</span><span class="p">)</span>

        <span class="n">p1</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="o">.</span><span class="n">add_property</span><span class="p">(</span><span class="s2">&quot;group&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">first_group_name</span><span class="p">)</span>
            <span class="o">.</span><span class="n">plot_interactive</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="n">y_axis</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="n">annot</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;group&quot;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">p2</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">deepcopy</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
            <span class="o">.</span><span class="n">add_property</span><span class="p">(</span><span class="s2">&quot;group&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">second_group_name</span><span class="p">)</span>
            <span class="o">.</span><span class="n">plot_interactive</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="n">y_axis</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="n">annot</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;group&quot;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">p0</span> <span class="o">+</span> <span class="n">p1</span> <span class="o">+</span> <span class="n">p2</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Makes highly interactive plot of the movement of embeddings
between two sets of embeddings.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>other</code></td>
<td></td>
<td>the other embeddingset</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>x_axis</code></td>
<td><code>Union[str, whatlies.embedding.Embedding]</code></td>
<td>the x-axis to be used, must be given when dim &gt; 2</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>y_axis</code></td>
<td><code>Union[str, whatlies.embedding.Embedding]</code></td>
<td>the y-axis to be used, must be given when dim &gt; 2</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>first_group_name</code></td>
<td></td>
<td>the name to give to the first set of embeddings (default: "before")</td>
<td><code>'before'</code></td>
</tr>
<tr>
<td><code>second_group_name</code></td>
<td></td>
<td>the name to give to the second set of embeddings (default: "after")</td>
<td><code>'after'</code></td>
</tr>
<tr>
<td><code>annot</code></td>
<td><code>bool</code></td>
<td>drawn points should be annotated</td>
<td><code>True</code></td>
</tr>
</tbody>
</table>
<p><strong>Usage</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.language</span> <span class="kn">import</span> <span class="n">SpacyLanguage</span>

<span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;prince&quot;</span><span class="p">,</span> <span class="s2">&quot;princess&quot;</span><span class="p">,</span> <span class="s2">&quot;nurse&quot;</span><span class="p">,</span> <span class="s2">&quot;doctor&quot;</span><span class="p">,</span> <span class="s2">&quot;banker&quot;</span><span class="p">,</span> <span class="s2">&quot;man&quot;</span><span class="p">,</span> <span class="s2">&quot;woman&quot;</span><span class="p">,</span>
         <span class="s2">&quot;cousin&quot;</span><span class="p">,</span> <span class="s2">&quot;neice&quot;</span><span class="p">,</span> <span class="s2">&quot;king&quot;</span><span class="p">,</span> <span class="s2">&quot;queen&quot;</span><span class="p">,</span> <span class="s2">&quot;dude&quot;</span><span class="p">,</span> <span class="s2">&quot;guy&quot;</span><span class="p">,</span> <span class="s2">&quot;gal&quot;</span><span class="p">,</span> <span class="s2">&quot;fire&quot;</span><span class="p">,</span>
         <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;mouse&quot;</span><span class="p">,</span> <span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="s2">&quot;water&quot;</span><span class="p">,</span>
         <span class="s2">&quot;person&quot;</span><span class="p">,</span> <span class="s2">&quot;family&quot;</span><span class="p">,</span> <span class="s2">&quot;brother&quot;</span><span class="p">,</span> <span class="s2">&quot;sister&quot;</span><span class="p">]</span>

<span class="n">lang</span> <span class="o">=</span> <span class="n">SpacyLanguage</span><span class="p">(</span><span class="s2">&quot;en_core_web_sm&quot;</span><span class="p">)</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">lang</span><span class="p">[</span><span class="n">words</span><span class="p">]</span>
<span class="n">emb_new</span> <span class="o">=</span> <span class="n">emb</span> <span class="o">-</span> <span class="n">emb</span><span class="p">[</span><span class="s1">&#39;king&#39;</span><span class="p">]</span>

<span class="n">emb</span><span class="o">.</span><span class="n">plot_movement</span><span class="p">(</span><span class="n">emb_new</span><span class="p">,</span> <span class="s1">&#39;man&#39;</span><span class="p">,</span> <span class="s1">&#39;woman&#39;</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.plot_pixels"><code class="highlight"><span class="n">plot_pixels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.plot_pixels" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span>
<span class="normal">993</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">plot_pixels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Makes a pixelchart of every embedding in the set.</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.language import SpacyLanguage</span>
<span class="sd">        from whatlies.transformers import Pca</span>

<span class="sd">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span>

<span class="sd">        names = [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;, &#39;yellow&#39;,</span>
<span class="sd">                 &#39;cat&#39;, &#39;dog&#39;, &#39;mouse&#39;, &#39;rat&#39;,</span>
<span class="sd">                 &#39;bike&#39;, &#39;car&#39;, &#39;motor&#39;, &#39;cycle&#39;,</span>
<span class="sd">                 &#39;firehydrant&#39;, &#39;japan&#39;, &#39;germany&#39;, &#39;belgium&#39;]</span>
<span class="sd">        emb = lang[names].transform(Pca(12)).filter(lambda e: &#39;pca&#39; not in e.name)</span>
<span class="sd">        emb.plot_pixels()</span>
<span class="sd">        ```</span>

<span class="sd">        ![](https://rasahq.github.io/whatlies/images/pixels.png)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">matshow</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">)),</span> <span class="n">names</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Makes a pixelchart of every embedding in the set.</p>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.language</span> <span class="kn">import</span> <span class="n">SpacyLanguage</span>
<span class="kn">from</span> <span class="nn">whatlies.transformers</span> <span class="kn">import</span> <span class="n">Pca</span>

<span class="n">lang</span> <span class="o">=</span> <span class="n">SpacyLanguage</span><span class="p">(</span><span class="s2">&quot;en_core_web_sm&quot;</span><span class="p">)</span>

<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">,</span>
         <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;mouse&#39;</span><span class="p">,</span> <span class="s1">&#39;rat&#39;</span><span class="p">,</span>
         <span class="s1">&#39;bike&#39;</span><span class="p">,</span> <span class="s1">&#39;car&#39;</span><span class="p">,</span> <span class="s1">&#39;motor&#39;</span><span class="p">,</span> <span class="s1">&#39;cycle&#39;</span><span class="p">,</span>
         <span class="s1">&#39;firehydrant&#39;</span><span class="p">,</span> <span class="s1">&#39;japan&#39;</span><span class="p">,</span> <span class="s1">&#39;germany&#39;</span><span class="p">,</span> <span class="s1">&#39;belgium&#39;</span><span class="p">]</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">lang</span><span class="p">[</span><span class="n">names</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">Pca</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">e</span><span class="p">:</span> <span class="s1">&#39;pca&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">emb</span><span class="o">.</span><span class="n">plot_pixels</span><span class="p">()</span>
</code></pre></div>
<p><img alt="" src="https://rasahq.github.io/whatlies/images/pixels.png" /></p>
<h2 id="whatlies.embeddingset.EmbeddingSet.plot_similarity"><code class="highlight"><span class="n">plot_similarity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;cosine&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.plot_similarity" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span>
<span class="normal">890</span>
<span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span>
<span class="normal">910</span>
<span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">plot_similarity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;cosine&quot;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Make a similarity plot. Shows you the similarity between all the word embeddings in the set.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            metric: `&#39;cosine&#39;` or `&#39;correlation&#39;`</span>
<span class="sd">            norm: normalise the embeddings before calculating the similarity</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.language import SpacyLanguage</span>
<span class="sd">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span>

<span class="sd">        names = [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;, &#39;yellow&#39;, &#39;cat&#39;, &#39;dog&#39;, &#39;mouse&#39;, &#39;rat&#39;, &#39;bike&#39;, &#39;car&#39;]</span>
<span class="sd">        emb = lang[names]</span>
<span class="sd">        emb.plot_similarity()</span>
<span class="sd">        emb.plot_similarity(metric=&#39;correlation&#39;)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">allowed_metrics</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;cosine&quot;</span><span class="p">,</span> <span class="s2">&quot;correlation&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">metric</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_metrics</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The `metric` argument must be in </span><span class="si">{</span><span class="n">allowed_metrics</span><span class="si">}</span><span class="s2">, got: </span><span class="si">{</span><span class="n">metric</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
        <span class="n">X</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">(</span><span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">metric</span> <span class="o">==</span> <span class="s2">&quot;cosine&quot;</span><span class="p">:</span>
            <span class="n">similarity</span> <span class="o">=</span> <span class="n">cosine_similarity</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">metric</span> <span class="o">==</span> <span class="s2">&quot;correlation&quot;</span><span class="p">:</span>
            <span class="n">similarity</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">corrcoef</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
            <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span>

        <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">similarity</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">get_cmap</span><span class="p">(),</span> <span class="n">vmin</span><span class="o">=-</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="n">vmax</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)),</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)),</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>

        <span class="c1"># Rotate the tick labels and set their alignment.</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">rotation_mode</span><span class="o">=</span><span class="s2">&quot;anchor&quot;</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Make a similarity plot. Shows you the similarity between all the word embeddings in the set.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>metric</code></td>
<td></td>
<td><code>'cosine'</code> or <code>'correlation'</code></td>
<td><code>'cosine'</code></td>
</tr>
<tr>
<td><code>norm</code></td>
<td></td>
<td>normalise the embeddings before calculating the similarity</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.language</span> <span class="kn">import</span> <span class="n">SpacyLanguage</span>
<span class="n">lang</span> <span class="o">=</span> <span class="n">SpacyLanguage</span><span class="p">(</span><span class="s2">&quot;en_core_web_sm&quot;</span><span class="p">)</span>

<span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span> <span class="s1">&#39;dog&#39;</span><span class="p">,</span> <span class="s1">&#39;mouse&#39;</span><span class="p">,</span> <span class="s1">&#39;rat&#39;</span><span class="p">,</span> <span class="s1">&#39;bike&#39;</span><span class="p">,</span> <span class="s1">&#39;car&#39;</span><span class="p">]</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">lang</span><span class="p">[</span><span class="n">names</span><span class="p">]</span>
<span class="n">emb</span><span class="o">.</span><span class="n">plot_similarity</span><span class="p">()</span>
<span class="n">emb</span><span class="o">.</span><span class="n">plot_similarity</span><span class="p">(</span><span class="n">metric</span><span class="o">=</span><span class="s1">&#39;correlation&#39;</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.score_similar"><code class="highlight"><span class="n">score_similar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">emb</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;cosine&#39;</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.score_similar" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">score_similar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">emb</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Embedding</span><span class="p">],</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;cosine&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retreive a list of (Embedding, score) tuples that are the most similar to the passed query.</span>

<span class="sd">        Arguments:</span>
<span class="sd">            emb: query to use</span>
<span class="sd">            n: the number of items you&#39;d like to see returned</span>
<span class="sd">            metric: metric to use to calculate distance, must be scipy or sklearn compatible</span>

<span class="sd">        Returns:</span>
<span class="sd">            An list of ([Embedding][whatlies.embedding.Embedding], score) tuples.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;You cannot retreive (n=</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2">) more items than exist in the Embeddingset (len=</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">emb</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">emb</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Embedding for `</span><span class="si">{</span><span class="n">emb</span><span class="si">}</span><span class="s2">` does not exist in this EmbeddingSet&quot;</span>
                <span class="p">)</span>
            <span class="n">emb</span> <span class="o">=</span> <span class="bp">self</span><span class="p">[</span><span class="n">emb</span><span class="p">]</span>

        <span class="n">vec</span> <span class="o">=</span> <span class="n">emb</span><span class="o">.</span><span class="n">vector</span>
        <span class="n">queries</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
        <span class="n">vector_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">()</span>
        <span class="n">distances</span> <span class="o">=</span> <span class="n">pairwise_distances</span><span class="p">(</span><span class="n">vector_matrix</span><span class="p">,</span> <span class="n">vec</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">metric</span><span class="o">=</span><span class="n">metric</span><span class="p">)</span>
        <span class="n">by_similarity</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">queries</span><span class="p">,</span> <span class="n">distances</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">z</span><span class="p">:</span> <span class="n">z</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="p">[(</span><span class="bp">self</span><span class="p">[</span><span class="n">q</span><span class="p">],</span> <span class="nb">float</span><span class="p">(</span><span class="n">d</span><span class="p">))</span> <span class="k">for</span> <span class="n">q</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">by_similarity</span><span class="p">[:</span><span class="n">n</span><span class="p">]]</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Retreive a list of (Embedding, score) tuples that are the most similar to the passed query.</p>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>emb</code></td>
<td><code>Union[str, whatlies.embedding.Embedding]</code></td>
<td>query to use</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>n</code></td>
<td><code>int</code></td>
<td>the number of items you'd like to see returned</td>
<td><code>10</code></td>
</tr>
<tr>
<td><code>metric</code></td>
<td></td>
<td>metric to use to calculate distance, must be scipy or sklearn compatible</td>
<td><code>'cosine'</code></td>
</tr>
</tbody>
</table>
<p><strong>Returns</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>``</td>
<td>An list of (<a href="/whatlies/api/embedding/#whatlies.embedding.Embedding">Embedding</a>, score) tuples.</td>
</tr>
</tbody>
</table>
<h2 id="whatlies.embeddingset.EmbeddingSet.to_dataframe"><code class="highlight"><span class="n">to_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.to_dataframe" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">to_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Turns the embeddingset into a pandas dataframe.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_matrix</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">mat</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Turns the embeddingset into a pandas dataframe.</p>
<h2 id="whatlies.embeddingset.EmbeddingSet.to_matrix"><code class="highlight"><span class="n">to_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.to_matrix" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">to_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Does exactly the same as `.to_X`. It takes the embedding vectors and turns it into a numpy array.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Does exactly the same as <code>.to_X</code>. It takes the embedding vectors and turns it into a numpy array.</p>
<h2 id="whatlies.embeddingset.EmbeddingSet.to_names_X"><code class="highlight"><span class="n">to_names_X</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.to_names_X" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">to_names_X</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the list of names as well as an array of vectors of all embeddings.</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embedding import Embedding</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span>
<span class="sd">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar, buz)</span>

<span class="sd">        names, X = emb.to_names_X()</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Get the list of names as well as an array of vectors of all embeddings.</p>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embedding</span> <span class="kn">import</span> <span class="n">Embedding</span>
<span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="n">buz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;buz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">buz</span><span class="p">)</span>

<span class="n">names</span><span class="p">,</span> <span class="n">X</span> <span class="o">=</span> <span class="n">emb</span><span class="o">.</span><span class="n">to_names_X</span><span class="p">()</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.to_X"><code class="highlight"><span class="n">to_X</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.to_X" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">to_X</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes every vector in each embedding and turns it into a scikit-learn compatible `X` matrix.</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embedding import Embedding</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span>
<span class="sd">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar, buz)</span>

<span class="sd">        X = emb.to_X()</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">i</span><span class="o">.</span><span class="n">vector</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="k">if</span> <span class="n">norm</span> <span class="k">else</span> <span class="n">X</span>
        <span class="k">return</span> <span class="n">X</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Takes every vector in each embedding and turns it into a scikit-learn compatible <code>X</code> matrix.</p>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embedding</span> <span class="kn">import</span> <span class="n">Embedding</span>
<span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="n">buz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;buz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">buz</span><span class="p">)</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">emb</span><span class="o">.</span><span class="n">to_X</span><span class="p">()</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.to_X_y"><code class="highlight"><span class="n">to_X_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y_label</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.to_X_y" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">to_X_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y_label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes every vector in each embedding and turns it into a scikit-learn compatible `X` matrix.</span>
<span class="sd">        Also retreives an array with potential labels.</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embedding import Embedding</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span>
<span class="sd">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span>
<span class="sd">        bla = Embedding(&quot;bla&quot;, [0.2, 0.8])</span>

<span class="sd">        emb1 = EmbeddingSet(foo, bar).add_property(&quot;label&quot;, lambda d: &#39;group-one&#39;)</span>
<span class="sd">        emb2 = EmbeddingSet(buz, bla).add_property(&quot;label&quot;, lambda d: &#39;group-two&#39;)</span>
<span class="sd">        emb = emb1.merge(emb2)</span>

<span class="sd">        X, y = emb.to_X_y(y_label=&#39;label&#39;)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">X</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_X</span><span class="p">()</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">getattr</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">y_label</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
        <span class="k">return</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Takes every vector in each embedding and turns it into a scikit-learn compatible <code>X</code> matrix.
Also retreives an array with potential labels.</p>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embedding</span> <span class="kn">import</span> <span class="n">Embedding</span>
<span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">])</span>
<span class="n">buz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;buz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])</span>
<span class="n">bla</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bla&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">])</span>

<span class="n">emb1</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">)</span><span class="o">.</span><span class="n">add_property</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="s1">&#39;group-one&#39;</span><span class="p">)</span>
<span class="n">emb2</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">buz</span><span class="p">,</span> <span class="n">bla</span><span class="p">)</span><span class="o">.</span><span class="n">add_property</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="s1">&#39;group-two&#39;</span><span class="p">)</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">emb1</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">emb2</span><span class="p">)</span>

<span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">emb</span><span class="o">.</span><span class="n">to_X_y</span><span class="p">(</span><span class="n">y_label</span><span class="o">=</span><span class="s1">&#39;label&#39;</span><span class="p">)</span>
</code></pre></div>
<h2 id="whatlies.embeddingset.EmbeddingSet.transform"><code class="highlight"><span class="n">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transformer</span><span class="p">)</span></code><a class="headerlink" href="#whatlies.embeddingset.EmbeddingSet.transform" title="Permanent link">&para;</a></h2>
<details class="note"><summary>Show source code in <code>whatlies/embeddingset.py</code></summary><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transformer</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Applies a transformation on the entire set.</span>

<span class="sd">        Usage:</span>

<span class="sd">        ```python</span>
<span class="sd">        from whatlies.embeddingset import EmbeddingSet</span>
<span class="sd">        from whatlies.transformers import Pca</span>

<span class="sd">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3, 0.10])</span>
<span class="sd">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2, 0.11])</span>
<span class="sd">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9, 0.12])</span>
<span class="sd">        emb = EmbeddingSet(foo, bar, buz).transform(Pca(2))</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">transformer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div>
</td></tr></table>
</details>
<p>Applies a transformation on the entire set.</p>
<p>Usage:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whatlies.embeddingset</span> <span class="kn">import</span> <span class="n">EmbeddingSet</span>
<span class="kn">from</span> <span class="nn">whatlies.transformers</span> <span class="kn">import</span> <span class="n">Pca</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">])</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.11</span><span class="p">])</span>
<span class="n">buz</span> <span class="o">=</span> <span class="n">Embedding</span><span class="p">(</span><span class="s2">&quot;buz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">])</span>
<span class="n">emb</span> <span class="o">=</span> <span class="n">EmbeddingSet</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">buz</span><span class="p">)</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">Pca</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</code></pre></div>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
  <footer class="md-footer">
    
      <div class="md-footer-nav">
        <nav class="md-footer-nav__inner md-grid">
          
            <a href="../embedding/" title="Embedding" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span class="md-footer-nav__direction">
                    Previous
                  </span>
                  Embedding
                </span>
              </div>
            </a>
          
          
            <a href="../helpers/" title="Helpers" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span class="md-footer-nav__direction">
                    Next
                  </span>
                  Helpers
                </span>
              </div>
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
              </div>
            </a>
          
        </nav>
      </div>
    
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          
            <div class="md-footer-copyright__highlight">
              Copyright &copy; 2020 <a href="https://twitter.com/Rasa_HQ">Rasa</a>, Maintained by <a href="https://twitter.com/fishnets88">Vincent</a>.
            </div>
          
          powered by
          <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
          and
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs</a>
        </div>
        
      </div>
    </div>
    <script async defer data-domain="rasahq.github.io/whatlies" src="https://plausible.io/js/plausible.js"></script>
  </footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
        <script src="../../js/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>